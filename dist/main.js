(()=>{"use strict";function e(){const e=document.createElement("div");e.classList.add("project-btn");const t=document.createElement("span"),n=document.createElement("span");return t.classList.add("material-icons-outlined"),t.classList.add("edit"),n.classList.add("material-icons-outlined"),n.classList.add("delete"),t.textContent="edit",n.textContent="delete",e.appendChild(t),e.appendChild(n),e}let t=[];let n=[];document.querySelector(".add-project").addEventListener("click",(()=>{!function(){const e=document.querySelector(".project-modal");e.showModal(),document.querySelector(".project-close").addEventListener("click",(()=>{e.close()}))}()})),function(){const n=document.querySelector(".project-form"),o=document.querySelector(".project-modal");n.addEventListener("submit",(c=>{c.preventDefault();const d=document.getElementById("title"),r=document.getElementById("description"),l=document.getElementById("due-date");let s="Low";document.getElementById("medium").checked?s="Medium":document.getElementById("high").checked&&(s="High");const i=((e,t,n,o)=>({title:e,description:t,dueDate:n,priority:o}))(d.value,r.value,l.value,s);t.push(i),function(t){const n=document.querySelector(".project-list");n.textContent="",t.forEach((t=>{const o=document.createElement("div");o.classList.add("new-project-con");const c=document.createElement("p");c.classList.add("project-title"),c.textContent=t.title,o.appendChild(c),o.appendChild(e()),n.appendChild(o)}))}(t),function(e){!function(){const e=document.querySelector(".project-task-list"),t=document.querySelectorAll(".project-task");for(let n=0;n<t.length;n++)e.removeChild(document.querySelector(".project-task"))}(),document.querySelector(".main-hd").textContent=e.title,document.querySelector(".main-hd-desc").textContent=e.description,document.querySelector(".main-hd-date-user").textContent=e.dueDate;const t=document.querySelector(".main-hd-priority-user");t.textContent=e.priority,t.style.color=function(e){return"Low"===e?"green":"Medium"===e?"yellow":"red"}(e.priority)}(i),o.close(),n.reset()}))}(),function(){const t=document.querySelector(".task-form"),o=document.querySelector(".task-modal"),c=document.querySelector(".main-hd");t.addEventListener("submit",(d=>{d.preventDefault();const r=document.getElementById("task-description");if(function(e){if(0===n.length)return!1;for(let t=0;t<n.length;t++)if(n[t].project===e)return!0}(c.textContent)){const e=n.findIndex((e=>e.project===c.textContent));n[e].description.push(r.value)}else{const e=((e,t)=>({project:e,description:t}))(c.textContent,[r.value]);n.push(e)}!function(t){const n=document.querySelector(".project-task-list"),o=document.querySelectorAll(".project-task");for(let e=0;e<o.length;e++)n.removeChild(document.querySelector(".project-task"));t.forEach((t=>{t.description.forEach((t=>{const o=document.createElement("div");o.classList.add("project-task");const c=document.createElement("div");c.classList.add("project-task-left");const d=document.createElement("div");d.classList.add("checkbox");const r=document.createElement("p");r.classList.add("project-task-desc"),r.textContent=t,c.appendChild(d),c.appendChild(r),o.appendChild(c),o.appendChild(e());const l=document.querySelector(".add-task");return n.insertBefore(o,l),n}))}))}(n),o.close(),t.reset()}))}(),document.querySelector(".add-task").addEventListener("click",(()=>{!function(){const e=document.querySelector(".task-modal");e.showModal(),document.querySelector(".task-close").addEventListener("click",(t=>{e.close()}))}()})),document.querySelector(".completed-tab").addEventListener("click",(e=>{const t=e.target.innerText;var n;n=t,document.querySelector(".completed-tab .material-icons-outlined").innerText="Completed\nexpand_more"===n||"expand_more"===n?"expand_less":"expand_more",function(e){const t=document.querySelector(".completed-list");"Completed\nexpand_more"===e||"expand_more"===e?(document.querySelectorAll(".user-project").forEach((e=>{e.addEventListener("mouseover",(()=>{e.setAttribute("style","background-color: rgba(255, 255, 255, 0.296); border-radius: 5px;")})),e.addEventListener("mouseout",(()=>{e.style.background="none"}))})),t.classList.remove("hidden")):t.classList.add("hidden")}(t)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUN4QyxFQUFjM0IsVUFBVW9FLE9BQU8sV0FDN0J6QyxFQUFjM0IsVUFBVUMsSUFBSSxTQUM3QyxDR1FRb0UsQ0FBcUJOLEVBSXpCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90by1kby8uL3NyYy9VSS5qcyIsIndlYnBhY2s6Ly90by1kby8uL3NyYy9wcm9qZWN0LmpzIiwid2VicGFjazovL3RvLWRvLy4vc3JjL3Rhc2suanMiLCJ3ZWJwYWNrOi8vdG8tZG8vLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZGlzcGxheUNvbXBsZXRlZExpc3QoaW5uZXJUZXh0KSB7XG4gICAgY29uc3QgY29tcGxldGVkTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29tcGxldGVkLWxpc3RcIik7XG4gICAgaWYoaW5uZXJUZXh0ID09PSBcIkNvbXBsZXRlZFxcbmV4cGFuZF9tb3JlXCIgfHwgaW5uZXJUZXh0ID09PSBcImV4cGFuZF9tb3JlXCIpIHtcbiAgICAgICAgY29uc3QgcHJvamVjdEhvdmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi51c2VyLXByb2plY3RcIik7XG4gICAgICAgIHByb2plY3RIb3Zlci5mb3JFYWNoKChwcm9qZWN0KSA9PiB7XG4gICAgICAgICAgICBwcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHByb2plY3Quc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMjk2KTsgYm9yZGVyLXJhZGl1czogNXB4O1wiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHByb2plY3Quc3R5bGUuYmFja2dyb3VuZCA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBjb21wbGV0ZWRMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG4gICAgfWVsc2UgcmV0dXJuIGNvbXBsZXRlZExpc3QuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbn1cblxuZnVuY3Rpb24gY2hhbmdlQXJyb3coYXJyb3dEaXJlY3Rpb24pIHtcbiAgICBjb25zdCBhcnJvd0ljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbXBsZXRlZC10YWIgLm1hdGVyaWFsLWljb25zLW91dGxpbmVkXCIpO1xuICAgIGlmKGFycm93RGlyZWN0aW9uID09PSBcIkNvbXBsZXRlZFxcbmV4cGFuZF9tb3JlXCIgfHwgYXJyb3dEaXJlY3Rpb24gPT09IFwiZXhwYW5kX21vcmVcIikgcmV0dXJuIGFycm93SWNvbi5pbm5lclRleHQgPSBcImV4cGFuZF9sZXNzXCJcbiAgICBlbHNlIHJldHVybiBhcnJvd0ljb24uaW5uZXJUZXh0ID0gXCJleHBhbmRfbW9yZVwiO1xufVxuXG5mdW5jdGlvbiBhZGRUb1Byb2plY3RMaXN0KGFycikge1xuICAgIGNvbnN0IGNvbXBsZXRlZExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtbGlzdFwiKTtcbiAgICBjb21wbGV0ZWRMaXN0LnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBhcnIuZm9yRWFjaCgocHJvamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdQcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbmV3UHJvamVjdENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibmV3LXByb2plY3QtY29uXCIpO1xuICAgICAgICBjb25zdCBwcm9qZWN0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgcHJvamVjdFRpdGxlLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LXRpdGxlXCIpO1xuICAgICAgICBwcm9qZWN0VGl0bGUudGV4dENvbnRlbnQgPSBwcm9qZWN0LnRpdGxlO1xuICAgICAgICBuZXdQcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3RUaXRsZSk7XG4gICAgICAgIG5ld1Byb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlUHJvamVjdEJ1dHRvbnMoKSk7XG4gICAgICAgIGNvbXBsZXRlZExpc3QuYXBwZW5kQ2hpbGQobmV3UHJvamVjdENvbnRhaW5lcik7XG4gICAgfSlcbiAgICByZXR1cm4gY29tcGxldGVkTGlzdDtcbn1cblxuZnVuY3Rpb24gYWRkVG9UYXNrTGlzdChhcnIpIHtcbiAgICBjb25zdCB0YXNrTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC10YXNrLWxpc3RcIik7XG4gICAgY29uc3QgcHJvamVjdFRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3QtdGFza1wiKTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvamVjdFRhc2subGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGFza0xpc3QucmVtb3ZlQ2hpbGQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LXRhc2tcIikpO1xuICAgIH1cbiAgICBhcnIuZm9yRWFjaChwcm9qZWN0ID0+IHtcbiAgICAgICAgcHJvamVjdC5kZXNjcmlwdGlvbi5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdFRhc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgcHJvamVjdFRhc2suY2xhc3NMaXN0LmFkZChcInByb2plY3QtdGFza1wiKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RUYXNrTGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBwcm9qZWN0VGFza0xlZnQuY2xhc3NMaXN0LmFkZChcInByb2plY3QtdGFzay1sZWZ0XCIpO1xuICAgICAgICAgICAgY29uc3QgY2hlY2tCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgY2hlY2tCb3guY2xhc3NMaXN0LmFkZChcImNoZWNrYm94XCIpO1xuICAgICAgICAgICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgICAgICB0YXNrRGVzY3JpcHRpb24uY2xhc3NMaXN0LmFkZChcInByb2plY3QtdGFzay1kZXNjXCIpO1xuICAgICAgICAgICAgdGFza0Rlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gaXRlbTtcbiAgICAgICAgICAgIHByb2plY3RUYXNrTGVmdC5hcHBlbmRDaGlsZChjaGVja0JveCk7XG4gICAgICAgICAgICBwcm9qZWN0VGFza0xlZnQuYXBwZW5kQ2hpbGQodGFza0Rlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHByb2plY3RUYXNrLmFwcGVuZENoaWxkKHByb2plY3RUYXNrTGVmdCk7XG4gICAgICAgICAgICBwcm9qZWN0VGFzay5hcHBlbmRDaGlsZChjcmVhdGVQcm9qZWN0QnV0dG9ucygpKTtcbiAgICAgICAgICAgIGNvbnN0IGFkZFRhc2tidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrXCIpO1xuICAgICAgICAgICAgdGFza0xpc3QuaW5zZXJ0QmVmb3JlKHByb2plY3RUYXNrLCBhZGRUYXNrYnRuKTtcbiAgICAgICAgICAgIHJldHVybiB0YXNrTGlzdDtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlQcm9qZWN0KHByb2plY3RPYmopIHtcbiAgICBjbGVhclRhc2tMaXN0KCk7XG4gICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWhkXCIpO1xuICAgIGhlYWRlci50ZXh0Q29udGVudCA9IHByb2plY3RPYmoudGl0bGU7XG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4taGQtZGVzY1wiKTtcbiAgICBkZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHByb2plY3RPYmouZGVzY3JpcHRpb247XG4gICAgY29uc3QgZGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1oZC1kYXRlLXVzZXJcIik7XG4gICAgZGF0ZS50ZXh0Q29udGVudCA9IHByb2plY3RPYmouZHVlRGF0ZTtcbiAgICBjb25zdCBwcmlvcml0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1oZC1wcmlvcml0eS11c2VyXCIpO1xuICAgIHByaW9yaXR5LnRleHRDb250ZW50ID0gcHJvamVjdE9iai5wcmlvcml0eTtcbiAgICBwcmlvcml0eS5zdHlsZS5jb2xvciA9IGNoYW5nZVByaW9yaXR5Q29sb3IocHJvamVjdE9iai5wcmlvcml0eSk7XG59XG5cbmZ1bmN0aW9uIGNoYW5nZVByaW9yaXR5Q29sb3IocHJpb3JpdHkpIHtcbiAgICBpZihwcmlvcml0eSA9PT0gXCJMb3dcIikgcmV0dXJuIFwiZ3JlZW5cIjtcbiAgICBlbHNlIGlmKHByaW9yaXR5ID09PSBcIk1lZGl1bVwiKSByZXR1cm4gXCJ5ZWxsb3dcIjtcbiAgICBlbHNlIHJldHVybiBcInJlZFwiO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVQcm9qZWN0QnV0dG9ucygpIHtcbiAgICBjb25zdCBwcm9qZWN0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBwcm9qZWN0QnRuLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LWJ0blwiKTtcbiAgICBjb25zdCBlZGl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgZWRpdEJ0bi5jbGFzc0xpc3QuYWRkKFwibWF0ZXJpYWwtaWNvbnMtb3V0bGluZWRcIik7XG4gICAgZWRpdEJ0bi5jbGFzc0xpc3QuYWRkKFwiZWRpdFwiKTtcbiAgICBkZWxldGVCdG4uY2xhc3NMaXN0LmFkZChcIm1hdGVyaWFsLWljb25zLW91dGxpbmVkXCIpO1xuICAgIGRlbGV0ZUJ0bi5jbGFzc0xpc3QuYWRkKFwiZGVsZXRlXCIpO1xuICAgIGVkaXRCdG4udGV4dENvbnRlbnQgPSBcImVkaXRcIjtcbiAgICBkZWxldGVCdG4udGV4dENvbnRlbnQgPSBcImRlbGV0ZVwiO1xuICAgIHByb2plY3RCdG4uYXBwZW5kQ2hpbGQoZWRpdEJ0bik7XG4gICAgcHJvamVjdEJ0bi5hcHBlbmRDaGlsZChkZWxldGVCdG4pO1xuICAgIHJldHVybiBwcm9qZWN0QnRuO1xufVxuXG5mdW5jdGlvbiBjbGVhclRhc2tMaXN0KCkge1xuICAgIGNvbnN0IHRhc2tMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LXRhc2stbGlzdFwiKTtcbiAgICBjb25zdCBwcm9qZWN0VGFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvamVjdC10YXNrXCIpO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qZWN0VGFzay5sZW5ndGg7IGkrKykge1xuICAgICAgICB0YXNrTGlzdC5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtdGFza1wiKSk7XG4gICAgfVxuICAgIHJldHVybiB0YXNrTGlzdDtcbn1cblxuZXhwb3J0IHtkaXNwbGF5Q29tcGxldGVkTGlzdCwgY2hhbmdlQXJyb3csIGFkZFRvUHJvamVjdExpc3QsIGRpc3BsYXlQcm9qZWN0LCBhZGRUb1Rhc2tMaXN0fTsiLCJpbXBvcnQgeyBhZGRUb1Byb2plY3RMaXN0LCBkaXNwbGF5UHJvamVjdCB9IGZyb20gXCIuL1VJXCI7XG5cbmxldCBwcm9qZWN0QXJyID0gW107XG5cbmZ1bmN0aW9uIHByb2plY3RNb2RhbCgpIHtcbiAgICBjb25zdCBwcm9qZWN0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtbW9kYWxcIik7XG4gICAgcHJvamVjdE1vZGFsLnNob3dNb2RhbCgpO1xuICAgIGNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LWNsb3NlXCIpO1xuICAgIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHByb2plY3RNb2RhbC5jbG9zZSgpO1xuICAgIH0pO1xuICAgIHJldHVybiBwcm9qZWN0TW9kYWw7XG59XG5cbmZ1bmN0aW9uIHByb2plY3RGb3JtKCkge1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtZm9ybVwiKTtcbiAgICBjb25zdCBwcm9qZWN0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtbW9kYWxcIik7XG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpO1xuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25cIik7XG4gICAgICAgIGNvbnN0IGR1ZURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImR1ZS1kYXRlXCIpO1xuICAgICAgICBsZXQgcHJpb3JpdHkgPSBcIkxvd1wiO1xuICAgICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lZGl1bVwiKS5jaGVja2VkKSBwcmlvcml0eSA9IFwiTWVkaXVtXCI7XG4gICAgICAgIGVsc2UgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoaWdoXCIpLmNoZWNrZWQpIHByaW9yaXR5ID0gXCJIaWdoXCI7XG4gICAgICAgIGVsc2UgcHJpb3JpdHk7XG4gICAgICAgIGNvbnN0IG5ld1Byb2plY3QgPSB1c2VyUHJvamVjdCh0aXRsZS52YWx1ZSwgZGVzY3JpcHRpb24udmFsdWUsIGR1ZURhdGUudmFsdWUsIHByaW9yaXR5KTtcbiAgICAgICAgcHJvamVjdEFyci5wdXNoKG5ld1Byb2plY3QpO1xuICAgICAgICBhZGRUb1Byb2plY3RMaXN0KHByb2plY3RBcnIpO1xuICAgICAgICBkaXNwbGF5UHJvamVjdChuZXdQcm9qZWN0KTtcbiAgICAgICAgcHJvamVjdE1vZGFsLmNsb3NlKCk7XG4gICAgICAgIGZvcm0ucmVzZXQoKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2cocHJvamVjdEFycik7XG4gICAgfSk7XG59XG5cbmNvbnN0IHVzZXJQcm9qZWN0ID0gKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHkpID0+IHtcbiAgICByZXR1cm4ge3RpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHl9O1xufSBcblxuXG5leHBvcnQge3Byb2plY3RNb2RhbCwgcHJvamVjdEZvcm19OyIsImltcG9ydCB7IGFkZFRvVGFza0xpc3QgfSBmcm9tIFwiLi9VSVwiO1xuXG5sZXQgdGFza0FyciA9IFtdO1xuXG5mdW5jdGlvbiB0YXNrTW9kYWwoKSB7XG4gICAgY29uc3QgdGFza01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLW1vZGFsXCIpO1xuICAgIHRhc2tNb2RhbC5zaG93TW9kYWwoKTtcbiAgICBjb25zdCBjbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFzay1jbG9zZVwiKTtcbiAgICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgdGFza01vZGFsLmNsb3NlKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRhc2tNb2RhbDtcbn1cblxuZnVuY3Rpb24gdGFza0Zvcm0oKSB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFzay1mb3JtXCIpO1xuICAgIGNvbnN0IHRhc2tNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFzay1tb2RhbFwiKTtcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1oZFwiKTtcbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFzay1kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgaWYoIWNoZWNrVGFza0FycmF5KHRpdGxlLnRleHRDb250ZW50KSkge1xuICAgICAgICAgICAgY29uc3QgbmV3VGFzayA9IHVzZXJUYXNrKHRpdGxlLnRleHRDb250ZW50LCBbZGVzY3JpcHRpb24udmFsdWVdKTtcbiAgICAgICAgICAgIHRhc2tBcnIucHVzaChuZXdUYXNrKTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdEluZGV4ID0gdGFza0Fyci5maW5kSW5kZXgodGFzayA9PiB0YXNrLnByb2plY3QgPT09IHRpdGxlLnRleHRDb250ZW50KTtcbiAgICAgICAgICAgIHRhc2tBcnJbcHJvamVjdEluZGV4XS5kZXNjcmlwdGlvbi5wdXNoKGRlc2NyaXB0aW9uLnZhbHVlKTsgXG4gICAgICAgIH1cbiAgICAgICAgYWRkVG9UYXNrTGlzdCh0YXNrQXJyKTtcbiAgICAgICAgdGFza01vZGFsLmNsb3NlKCk7XG4gICAgICAgIGZvcm0ucmVzZXQoKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2codGFza0Fycik7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRhc2tBcnJbMF0uZGVzY3JpcHRpb24pO1xuICAgIH0pXG59XG5cbmZ1bmN0aW9uIGNoZWNrVGFza0FycmF5KHRpdGxlKSB7XG4gICAgaWYodGFza0Fyci5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcbiAgICBmb3IobGV0IHggPSAwOyB4IDwgdGFza0Fyci5sZW5ndGg7IHgrKykge1xuICAgICAgICBpZih0YXNrQXJyW3hdLnByb2plY3QgPT09IHRpdGxlKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbmNvbnN0IHVzZXJUYXNrID0gKHByb2plY3QsIGRlc2NyaXB0aW9uKSA9PiB7XG4gICAgcmV0dXJuIHtwcm9qZWN0LCBkZXNjcmlwdGlvbn07XG59IFxuXG5leHBvcnQge3Rhc2tNb2RhbCwgdGFza0Zvcm19OyIsImltcG9ydCB7IHByb2plY3RNb2RhbCwgcHJvamVjdEZvcm0gfSBmcm9tIFwiLi9wcm9qZWN0XCI7XG5pbXBvcnQgeyB0YXNrTW9kYWwsIHRhc2tGb3JtIH0gZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0IHsgZGlzcGxheUNvbXBsZXRlZExpc3QsIGNoYW5nZUFycm93IH0gZnJvbSBcIi4vVUlcIjtcblxuY29uc3QgYWRkUHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXByb2plY3RcIik7XG5hZGRQcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgcHJvamVjdE1vZGFsKCk7XG59KTtcblxucHJvamVjdEZvcm0oKTtcbnRhc2tGb3JtKCk7XG5cbmNvbnN0IGFkZFRhc2tidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrXCIpO1xuYWRkVGFza2J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIHRhc2tNb2RhbCgpO1xufSk7XG5cbmNvbnN0IGNvbXBsZXRlZFRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29tcGxldGVkLXRhYlwiKTtcbmNvbXBsZXRlZFRhYi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICBjb25zdCBpbm5lclRleHQgPSBlLnRhcmdldC5pbm5lclRleHQ7XG4gICAgaWYoaW5uZXJUZXh0ID09PSBcIkNvbXBsZXRlZFxcbmV4cGFuZF9tb3JlXCIgfHwgaW5uZXJUZXh0ID09PSBcImV4cGFuZF9tb3JlXCIpIHtcbiAgICAgICAgY2hhbmdlQXJyb3coaW5uZXJUZXh0KTtcbiAgICAgICAgZGlzcGxheUNvbXBsZXRlZExpc3QoaW5uZXJUZXh0KTtcbiAgICB9ZWxzZSB7XG4gICAgICAgIGNoYW5nZUFycm93KGlubmVyVGV4dCk7XG4gICAgICAgIGRpc3BsYXlDb21wbGV0ZWRMaXN0KGlubmVyVGV4dCk7XG4gICAgfVxufSk7XG4iXSwibmFtZXMiOlsiY3JlYXRlUHJvamVjdEJ1dHRvbnMiLCJwcm9qZWN0QnRuIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiZWRpdEJ0biIsImRlbGV0ZUJ0biIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJwcm9qZWN0QXJyIiwidGFza0FyciIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwicHJvamVjdE1vZGFsIiwic2hvd01vZGFsIiwiY2xvc2UiLCJmb3JtIiwiZSIsInByZXZlbnREZWZhdWx0IiwidGl0bGUiLCJnZXRFbGVtZW50QnlJZCIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsInByaW9yaXR5IiwiY2hlY2tlZCIsIm5ld1Byb2plY3QiLCJ1c2VyUHJvamVjdCIsInZhbHVlIiwicHVzaCIsImFyciIsImNvbXBsZXRlZExpc3QiLCJmb3JFYWNoIiwicHJvamVjdCIsIm5ld1Byb2plY3RDb250YWluZXIiLCJwcm9qZWN0VGl0bGUiLCJhZGRUb1Byb2plY3RMaXN0IiwicHJvamVjdE9iaiIsInRhc2tMaXN0IiwicHJvamVjdFRhc2siLCJxdWVyeVNlbGVjdG9yQWxsIiwiaSIsImxlbmd0aCIsInJlbW92ZUNoaWxkIiwiY2xlYXJUYXNrTGlzdCIsInN0eWxlIiwiY29sb3IiLCJjaGFuZ2VQcmlvcml0eUNvbG9yIiwiZGlzcGxheVByb2plY3QiLCJyZXNldCIsInByb2plY3RGb3JtIiwidGFza01vZGFsIiwieCIsImNoZWNrVGFza0FycmF5IiwicHJvamVjdEluZGV4IiwiZmluZEluZGV4IiwidGFzayIsIm5ld1Rhc2siLCJ1c2VyVGFzayIsIml0ZW0iLCJwcm9qZWN0VGFza0xlZnQiLCJjaGVja0JveCIsInRhc2tEZXNjcmlwdGlvbiIsImFkZFRhc2tidG4iLCJpbnNlcnRCZWZvcmUiLCJhZGRUb1Rhc2tMaXN0IiwidGFza0Zvcm0iLCJpbm5lclRleHQiLCJ0YXJnZXQiLCJhcnJvd0RpcmVjdGlvbiIsInNldEF0dHJpYnV0ZSIsImJhY2tncm91bmQiLCJyZW1vdmUiLCJkaXNwbGF5Q29tcGxldGVkTGlzdCJdLCJzb3VyY2VSb290IjoiIn0=