(()=>{"use strict";function e(e){const t=document.querySelector(".project-task-list");o(),e.forEach((e=>{const o=document.createElement("div");o.classList.add("project-task");const c=document.createElement("div");c.classList.add("project-task-left");const d=document.createElement("div");d.classList.add("checkbox");const r=document.createElement("p");r.classList.add("project-task-desc"),r.textContent=e,c.appendChild(d),c.appendChild(r),o.appendChild(c),o.appendChild(n());const l=document.querySelector(".add-task");return t.insertBefore(o,l)}))}function t(e){o(),document.querySelector(".main-hd").textContent=e.title,document.querySelector(".main-hd-desc").textContent=e.description,document.querySelector(".main-hd-date-user").textContent=e.dueDate;const t=document.querySelector(".main-hd-priority-user");t.textContent=e.priority,t.style.color=function(e){return"Low"===e?"green":"Medium"===e?"yellow":"red"}(e.priority);for(const t of document.querySelectorAll(".project-title"))t.textContent.includes(e.title)?(t.setAttribute("style","color: white; opacity: 1;"),t.parentElement.style.backgroundColor="rgba(255, 255, 255, 0.296)"):(t.setAttribute("style","color: #EBEBEB; opacity: .5;"),t.parentElement.style.background="none")}function n(){const e=document.createElement("div");e.classList.add("project-btn");const t=document.createElement("span"),n=document.createElement("span");return t.classList.add("material-icons-outlined"),t.classList.add("edit"),n.classList.add("material-icons-outlined"),n.classList.add("delete"),t.textContent="edit",n.textContent="delete",e.appendChild(t),e.appendChild(n),e}function o(){const e=document.querySelector(".project-task-list"),t=document.querySelectorAll(".project-task");for(let n=0;n<t.length;n++)e.removeChild(document.querySelector(".project-task"));return e}let c=[];let d=[];document.querySelector(".add-project").addEventListener("click",(()=>{!function(){const e=document.querySelector(".project-modal");e.showModal(),document.querySelector(".project-close").addEventListener("click",(()=>{e.close()}))}()})),function(){const e=document.querySelector(".project-form"),o=document.querySelector(".project-modal");e.addEventListener("submit",(d=>{d.preventDefault();const r=document.getElementById("title"),l=document.getElementById("description"),s=document.getElementById("due-date");let i="Low";document.getElementById("medium").checked?i="Medium":document.getElementById("high").checked&&(i="High");const a=((e,t,n,o)=>({title:e,description:t,dueDate:n,priority:o}))(r.value,l.value,s.value,i);return c.push(a),function(e){const t=document.querySelector(".project-list");t.textContent="",e.forEach((e=>{const o=document.createElement("div");o.classList.add("new-project-con");const c=document.createElement("p");c.classList.add("project-title"),c.textContent=e.title,o.appendChild(c),o.appendChild(n()),t.appendChild(o)}))}(c),t(a),o.close(),e.reset(),c}))}(),function(){const t=document.querySelector(".task-form"),n=document.querySelector(".task-modal"),o=document.querySelector(".main-hd");t.addEventListener("submit",(c=>{c.preventDefault();const r=document.getElementById("task-description");if(function(e){if(0===d.length)return!1;for(let t=0;t<d.length;t++)if(d[t].project===e)return!0}(o.textContent)){const t=d.findIndex((e=>e.project===o.textContent));d[t].description.push(r.value),e(d[t].description)}else{const t=((e,t)=>({project:e,description:t}))(o.textContent,[r.value]);d.push(t);const n=d.findIndex((e=>e.project===o.textContent));e(d[n].description)}return n.close(),t.reset(),d}))}(),document.querySelectorAll(".project-list").forEach((n=>{n.addEventListener("click",(n=>{let o="";o="project-title"===n.target.classList.value||"new-project-con"===n.target.classList.value?n.target.childNodes[0].textContent:n.target.parentElement.parentElement.childNodes[0].textContent;const r=c.findIndex((e=>e.title===o));t(c[r]);const l=d.findIndex((e=>e.project===o));-1!==l&&e(d[l].description)}))})),document.querySelector(".add-task").addEventListener("click",(()=>{!function(){const e=document.querySelector(".task-modal");e.showModal(),document.querySelector(".task-close").addEventListener("click",(t=>{e.close()}))}()})),document.querySelector(".completed-tab").addEventListener("click",(e=>{const t=e.target.innerText;var n;n=t,document.querySelector(".completed-tab .material-icons-outlined").innerText="Completed\nexpand_more"===n||"expand_more"===n?"expand_less":"expand_more",function(e){const t=document.querySelector(".completed-list");"Completed\nexpand_more"===e||"expand_more"===e?(document.querySelectorAll(".user-project").forEach((e=>{e.addEventListener("mouseover",(()=>{e.setAttribute("style","background-color: rgba(255, 255, 255, 0.296); border-radius: 5px;")})),e.addEventListener("mouseout",(()=>{e.style.background="none"}))})),t.classList.remove("hidden")):t.classList.add("hidden")}(t)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBUUEsRUFBS21ELFVBQVlFLEtBQzNDLElBQWZjLEdBQWtCMUUsRUFBWTJDLEVBQVErQixHQUFXbkQsWUFBWSxHQUNuRSxJQUljcEIsU0FBU0MsY0FBYyxhQUMvQndDLGlCQUFpQixTQUFTLE1EL0JyQyxXQUNJLE1BQU1vQixFQUFZN0QsU0FBU0MsY0FBYyxlQUN6QzRELEVBQVVsQixZQUNPM0MsU0FBU0MsY0FBYyxlQUMvQndDLGlCQUFpQixTQUFVSyxJQUNoQ2UsRUFBVWpCLE9BQU8sR0FHekIsQ0N3QklpQixFQUFXLElBR003RCxTQUFTQyxjQUFjLGtCQUMvQndDLGlCQUFpQixTQUFVSyxJQUNwQyxNQUFNMEIsRUFBWTFCLEVBQUV1QixPQUFPRyxVSHpCL0IsSUFBcUJDLElHMkJERCxFSDFCRXhFLFNBQVNDLGNBQWMsMkNBQzREdUUsVUFBL0UsMkJBQW5CQyxHQUFrRSxnQkFBbkJBLEVBQStELGNBQy9FLGNBbkJ0QyxTQUE4QkQsR0FDMUIsTUFBTWxCLEVBQWdCdEQsU0FBU0MsY0FBYyxtQkFDNUIsMkJBQWR1RSxHQUF3RCxnQkFBZEEsR0FDcEJ4RSxTQUFTMkIsaUJBQWlCLGlCQUNsQ3hCLFNBQVNvRCxJQUNsQkEsRUFBUWQsaUJBQWlCLGFBQWEsS0FDbENjLEVBQVExQixhQUFhLFFBQVMsb0VBQW9FLElBRXRHMEIsRUFBUWQsaUJBQWlCLFlBQVksS0FDakNjLEVBQVFoQyxNQUFNUyxXQUFhLE1BQU0sR0FDbkMsSUFFQ3NCLEVBQWMvQyxVQUFVbUUsT0FBTyxXQUM3QnBCLEVBQWMvQyxVQUFVQyxJQUFJLFNBQzdDLENHOEJRbUUsQ0FBcUJILEVBSXpCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90by1kby8uL3NyYy9VSS5qcyIsIndlYnBhY2s6Ly90by1kby8uL3NyYy9wcm9qZWN0LmpzIiwid2VicGFjazovL3RvLWRvLy4vc3JjL3Rhc2suanMiLCJ3ZWJwYWNrOi8vdG8tZG8vLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZGlzcGxheUNvbXBsZXRlZExpc3QoaW5uZXJUZXh0KSB7XG4gICAgY29uc3QgY29tcGxldGVkTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29tcGxldGVkLWxpc3RcIik7XG4gICAgaWYoaW5uZXJUZXh0ID09PSBcIkNvbXBsZXRlZFxcbmV4cGFuZF9tb3JlXCIgfHwgaW5uZXJUZXh0ID09PSBcImV4cGFuZF9tb3JlXCIpIHtcbiAgICAgICAgY29uc3QgcHJvamVjdEhvdmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi51c2VyLXByb2plY3RcIik7XG4gICAgICAgIHByb2plY3RIb3Zlci5mb3JFYWNoKChwcm9qZWN0KSA9PiB7XG4gICAgICAgICAgICBwcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHByb2plY3Quc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMjk2KTsgYm9yZGVyLXJhZGl1czogNXB4O1wiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHByb2plY3Quc3R5bGUuYmFja2dyb3VuZCA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBjb21wbGV0ZWRMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG4gICAgfWVsc2UgcmV0dXJuIGNvbXBsZXRlZExpc3QuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbn1cblxuZnVuY3Rpb24gY2hhbmdlQXJyb3coYXJyb3dEaXJlY3Rpb24pIHtcbiAgICBjb25zdCBhcnJvd0ljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbXBsZXRlZC10YWIgLm1hdGVyaWFsLWljb25zLW91dGxpbmVkXCIpO1xuICAgIGlmKGFycm93RGlyZWN0aW9uID09PSBcIkNvbXBsZXRlZFxcbmV4cGFuZF9tb3JlXCIgfHwgYXJyb3dEaXJlY3Rpb24gPT09IFwiZXhwYW5kX21vcmVcIikgcmV0dXJuIGFycm93SWNvbi5pbm5lclRleHQgPSBcImV4cGFuZF9sZXNzXCJcbiAgICBlbHNlIHJldHVybiBhcnJvd0ljb24uaW5uZXJUZXh0ID0gXCJleHBhbmRfbW9yZVwiO1xufVxuXG5mdW5jdGlvbiBhZGRUb1Byb2plY3RMaXN0KGFycikge1xuICAgIGNvbnN0IGNvbXBsZXRlZExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtbGlzdFwiKTtcbiAgICBjb21wbGV0ZWRMaXN0LnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBhcnIuZm9yRWFjaCgocHJvamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdQcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbmV3UHJvamVjdENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibmV3LXByb2plY3QtY29uXCIpO1xuICAgICAgICBjb25zdCBwcm9qZWN0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgcHJvamVjdFRpdGxlLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LXRpdGxlXCIpO1xuICAgICAgICBwcm9qZWN0VGl0bGUudGV4dENvbnRlbnQgPSBwcm9qZWN0LnRpdGxlO1xuICAgICAgICBuZXdQcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3RUaXRsZSk7XG4gICAgICAgIG5ld1Byb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlUHJvamVjdEJ1dHRvbnMoKSk7XG4gICAgICAgIGNvbXBsZXRlZExpc3QuYXBwZW5kQ2hpbGQobmV3UHJvamVjdENvbnRhaW5lcik7XG4gICAgfSlcbiAgICByZXR1cm4gY29tcGxldGVkTGlzdDtcbn1cblxuZnVuY3Rpb24gZGlzcGxheVRhc2soYXJyKSB7XG4gICAgY29uc3QgdGFza0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtdGFzay1saXN0XCIpO1xuICAgIGNsZWFyVGFza0xpc3QoKTtcbiAgICBhcnIuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdFRhc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBwcm9qZWN0VGFzay5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LXRhc2snKTtcbiAgICAgICAgY29uc3QgcHJvamVjdFRhc2tMZWZ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgcHJvamVjdFRhc2tMZWZ0LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LXRhc2stbGVmdFwiKTtcbiAgICAgICAgY29uc3QgY2hlY2tCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjaGVja0JveC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveCcpO1xuICAgICAgICBjb25zdCB0YXNrRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgdGFza0Rlc2NyaXB0aW9uLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LXRhc2stZGVzY1wiKTtcbiAgICAgICAgdGFza0Rlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gdGFzaztcbiAgICAgICAgcHJvamVjdFRhc2tMZWZ0LmFwcGVuZENoaWxkKGNoZWNrQm94KTtcbiAgICAgICAgcHJvamVjdFRhc2tMZWZ0LmFwcGVuZENoaWxkKHRhc2tEZXNjcmlwdGlvbik7XG4gICAgICAgIHByb2plY3RUYXNrLmFwcGVuZENoaWxkKHByb2plY3RUYXNrTGVmdCk7XG4gICAgICAgIHByb2plY3RUYXNrLmFwcGVuZENoaWxkKGNyZWF0ZVByb2plY3RCdXR0b25zKCkpO1xuICAgICAgICBjb25zdCBhZGRUYXNrQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFza1wiKTtcbiAgICAgICAgcmV0dXJuIHRhc2tMaXN0Lmluc2VydEJlZm9yZShwcm9qZWN0VGFzaywgYWRkVGFza0J0bik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGVkUHJvamVjdChwcm9qZWN0KSB7XG4gICAgcmV0dXJuIHByb2plY3Quc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJjb2xvcjogd2hpdGU7IG9wYWNpdHk6IDE7XCIpO1xufVxuXG5mdW5jdGlvbiBkaXNwbGF5UHJvamVjdChwcm9qZWN0T2JqKSB7XG4gICAgY2xlYXJUYXNrTGlzdCgpO1xuICAgIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1oZFwiKTtcbiAgICBoZWFkZXIudGV4dENvbnRlbnQgPSBwcm9qZWN0T2JqLnRpdGxlO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWhkLWRlc2NcIik7XG4gICAgZGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBwcm9qZWN0T2JqLmRlc2NyaXB0aW9uO1xuICAgIGNvbnN0IGRhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4taGQtZGF0ZS11c2VyXCIpO1xuICAgIGRhdGUudGV4dENvbnRlbnQgPSBwcm9qZWN0T2JqLmR1ZURhdGU7XG4gICAgY29uc3QgcHJpb3JpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4taGQtcHJpb3JpdHktdXNlclwiKTtcbiAgICBwcmlvcml0eS50ZXh0Q29udGVudCA9IHByb2plY3RPYmoucHJpb3JpdHk7XG4gICAgcHJpb3JpdHkuc3R5bGUuY29sb3IgPSBjaGFuZ2VQcmlvcml0eUNvbG9yKHByb2plY3RPYmoucHJpb3JpdHkpO1xuXG4gICAgLy9pdGVyYXRlIHRocm91Z2ggcHJvamVjdCB0aXRsZSBlbGVtZW50IHRoYXQgY29udGFpbnMgcHJvamVjdCB0aXRsZVxuICAgIGZvciAoY29uc3QgYSBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3QtdGl0bGVcIikpIHtcbiAgICAgICAgaWYoYS50ZXh0Q29udGVudC5pbmNsdWRlcyhwcm9qZWN0T2JqLnRpdGxlKSkge1xuICAgICAgICAgICAgYS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcImNvbG9yOiB3aGl0ZTsgb3BhY2l0eTogMTtcIik7XG4gICAgICAgICAgICBhLnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMjk2KVwiO1xuICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICBhLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwiY29sb3I6ICNFQkVCRUI7IG9wYWNpdHk6IC41O1wiKTtcbiAgICAgICAgICAgIGEucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJub25lXCI7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNoYW5nZVByaW9yaXR5Q29sb3IocHJpb3JpdHkpIHtcbiAgICBpZihwcmlvcml0eSA9PT0gXCJMb3dcIikgcmV0dXJuIFwiZ3JlZW5cIjtcbiAgICBlbHNlIGlmKHByaW9yaXR5ID09PSBcIk1lZGl1bVwiKSByZXR1cm4gXCJ5ZWxsb3dcIjtcbiAgICBlbHNlIHJldHVybiBcInJlZFwiO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVQcm9qZWN0QnV0dG9ucygpIHtcbiAgICBjb25zdCBwcm9qZWN0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBwcm9qZWN0QnRuLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LWJ0blwiKTtcbiAgICBjb25zdCBlZGl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgZWRpdEJ0bi5jbGFzc0xpc3QuYWRkKFwibWF0ZXJpYWwtaWNvbnMtb3V0bGluZWRcIik7XG4gICAgZWRpdEJ0bi5jbGFzc0xpc3QuYWRkKFwiZWRpdFwiKTtcbiAgICBkZWxldGVCdG4uY2xhc3NMaXN0LmFkZChcIm1hdGVyaWFsLWljb25zLW91dGxpbmVkXCIpO1xuICAgIGRlbGV0ZUJ0bi5jbGFzc0xpc3QuYWRkKFwiZGVsZXRlXCIpO1xuICAgIGVkaXRCdG4udGV4dENvbnRlbnQgPSBcImVkaXRcIjtcbiAgICBkZWxldGVCdG4udGV4dENvbnRlbnQgPSBcImRlbGV0ZVwiO1xuICAgIHByb2plY3RCdG4uYXBwZW5kQ2hpbGQoZWRpdEJ0bik7XG4gICAgcHJvamVjdEJ0bi5hcHBlbmRDaGlsZChkZWxldGVCdG4pO1xuICAgIHJldHVybiBwcm9qZWN0QnRuO1xufVxuXG5mdW5jdGlvbiBjbGVhclRhc2tMaXN0KCkge1xuICAgIGNvbnN0IHRhc2tMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LXRhc2stbGlzdFwiKTtcbiAgICBjb25zdCBwcm9qZWN0VGFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvamVjdC10YXNrXCIpO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qZWN0VGFzay5sZW5ndGg7IGkrKykge1xuICAgICAgICB0YXNrTGlzdC5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtdGFza1wiKSk7XG4gICAgfVxuICAgIHJldHVybiB0YXNrTGlzdDtcbn1cblxuZXhwb3J0IHtkaXNwbGF5Q29tcGxldGVkTGlzdCwgY2hhbmdlQXJyb3csIGFkZFRvUHJvamVjdExpc3QsIGRpc3BsYXlQcm9qZWN0LCBkaXNwbGF5VGFzaywgc2VsZWN0ZWRQcm9qZWN0fTsiLCJpbXBvcnQgeyBhZGRUb1Byb2plY3RMaXN0LCBkaXNwbGF5UHJvamVjdCB9IGZyb20gXCIuL1VJXCI7XG5cbmxldCBwcm9qZWN0QXJyID0gW107XG5cbmZ1bmN0aW9uIHByb2plY3RNb2RhbCgpIHtcbiAgICBjb25zdCBwcm9qZWN0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtbW9kYWxcIik7XG4gICAgcHJvamVjdE1vZGFsLnNob3dNb2RhbCgpO1xuICAgIGNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LWNsb3NlXCIpO1xuICAgIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHByb2plY3RNb2RhbC5jbG9zZSgpO1xuICAgIH0pO1xuICAgIHJldHVybiBwcm9qZWN0TW9kYWw7XG59XG5cbmZ1bmN0aW9uIHByb2plY3RGb3JtKCkge1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtZm9ybVwiKTtcbiAgICBjb25zdCBwcm9qZWN0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtbW9kYWxcIik7XG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpO1xuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25cIik7XG4gICAgICAgIGNvbnN0IGR1ZURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImR1ZS1kYXRlXCIpO1xuICAgICAgICBsZXQgcHJpb3JpdHkgPSBcIkxvd1wiO1xuICAgICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lZGl1bVwiKS5jaGVja2VkKSBwcmlvcml0eSA9IFwiTWVkaXVtXCI7XG4gICAgICAgIGVsc2UgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoaWdoXCIpLmNoZWNrZWQpIHByaW9yaXR5ID0gXCJIaWdoXCI7XG4gICAgICAgIGVsc2UgcHJpb3JpdHk7XG4gICAgICAgIGNvbnN0IG5ld1Byb2plY3QgPSB1c2VyUHJvamVjdCh0aXRsZS52YWx1ZSwgZGVzY3JpcHRpb24udmFsdWUsIGR1ZURhdGUudmFsdWUsIHByaW9yaXR5KTtcbiAgICAgICAgcHJvamVjdEFyci5wdXNoKG5ld1Byb2plY3QpO1xuICAgICAgICBhZGRUb1Byb2plY3RMaXN0KHByb2plY3RBcnIpO1xuICAgICAgICBkaXNwbGF5UHJvamVjdChuZXdQcm9qZWN0KTtcbiAgICAgICAgcHJvamVjdE1vZGFsLmNsb3NlKCk7XG4gICAgICAgIGZvcm0ucmVzZXQoKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2cocHJvamVjdEFycik7XG4gICAgICAgIHJldHVybiBwcm9qZWN0QXJyO1xuICAgIH0pO1xufVxuXG5jb25zdCB1c2VyUHJvamVjdCA9ICh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KSA9PiB7XG4gICAgcmV0dXJuIHt0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5fTtcbn0gXG5cblxuZXhwb3J0IHtwcm9qZWN0TW9kYWwsIHByb2plY3RGb3JtLCBwcm9qZWN0QXJyfTsiLCJpbXBvcnQgeyBhZGRUb1Rhc2tMaXN0LCBkaXNwbGF5VGFzayB9IGZyb20gXCIuL1VJXCI7XG5cbmxldCB0YXNrQXJyID0gW107XG5cbmZ1bmN0aW9uIHRhc2tNb2RhbCgpIHtcbiAgICBjb25zdCB0YXNrTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2stbW9kYWxcIik7XG4gICAgdGFza01vZGFsLnNob3dNb2RhbCgpO1xuICAgIGNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWNsb3NlXCIpO1xuICAgIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICB0YXNrTW9kYWwuY2xvc2UoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGFza01vZGFsO1xufVxuXG5mdW5jdGlvbiB0YXNrRm9ybSgpIHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWZvcm1cIik7XG4gICAgY29uc3QgdGFza01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLW1vZGFsXCIpO1xuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWhkXCIpO1xuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrLWRlc2NyaXB0aW9uXCIpO1xuICAgICAgICBpZighY2hlY2tUYXNrQXJyYXkodGl0bGUudGV4dENvbnRlbnQpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdUYXNrID0gdXNlclRhc2sodGl0bGUudGV4dENvbnRlbnQsIFtkZXNjcmlwdGlvbi52YWx1ZV0pO1xuICAgICAgICAgICAgdGFza0Fyci5wdXNoKG5ld1Rhc2spO1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdEluZGV4ID0gdGFza0Fyci5maW5kSW5kZXgodGFzayA9PiB0YXNrLnByb2plY3QgPT09IHRpdGxlLnRleHRDb250ZW50KTtcbiAgICAgICAgICAgIGRpc3BsYXlUYXNrKHRhc2tBcnJbcHJvamVjdEluZGV4XS5kZXNjcmlwdGlvbik7XG4gICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RJbmRleCA9IHRhc2tBcnIuZmluZEluZGV4KHRhc2sgPT4gdGFzay5wcm9qZWN0ID09PSB0aXRsZS50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICB0YXNrQXJyW3Byb2plY3RJbmRleF0uZGVzY3JpcHRpb24ucHVzaChkZXNjcmlwdGlvbi52YWx1ZSk7IFxuICAgICAgICAgICAgZGlzcGxheVRhc2sodGFza0Fycltwcm9qZWN0SW5kZXhdLmRlc2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhZGRUb1Rhc2tMaXN0KHRhc2tBcnIpO1xuICAgICAgICB0YXNrTW9kYWwuY2xvc2UoKTtcbiAgICAgICAgZm9ybS5yZXNldCgpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyh0YXNrQXJyKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2codGFza0FyclswXS5kZXNjcmlwdGlvbik7XG4gICAgICAgIHJldHVybiB0YXNrQXJyO1xuICAgIH0pXG59XG5cbmZ1bmN0aW9uIGNoZWNrVGFza0FycmF5KHRpdGxlKSB7XG4gICAgaWYodGFza0Fyci5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcbiAgICBmb3IobGV0IHggPSAwOyB4IDwgdGFza0Fyci5sZW5ndGg7IHgrKykge1xuICAgICAgICBpZih0YXNrQXJyW3hdLnByb2plY3QgPT09IHRpdGxlKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbmNvbnN0IHVzZXJUYXNrID0gKHByb2plY3QsIGRlc2NyaXB0aW9uKSA9PiB7XG4gICAgcmV0dXJuIHtwcm9qZWN0LCBkZXNjcmlwdGlvbn07XG59IFxuXG5leHBvcnQge3Rhc2tNb2RhbCwgdGFza0Zvcm0sIHRhc2tBcnJ9OyIsImltcG9ydCB7IHByb2plY3RNb2RhbCwgcHJvamVjdEZvcm0sIHByb2plY3RBcnJ9IGZyb20gXCIuL3Byb2plY3RcIjtcbmltcG9ydCB7IHRhc2tNb2RhbCwgdGFza0Zvcm0sIHRhc2tBcnIgfSBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgeyBkaXNwbGF5Q29tcGxldGVkTGlzdCwgY2hhbmdlQXJyb3csIGRpc3BsYXlQcm9qZWN0LCBkaXNwbGF5VGFzaywgc2VsZWN0ZWRQcm9qZWN0fSBmcm9tIFwiLi9VSVwiO1xuXG5jb25zdCBhZGRQcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtcHJvamVjdFwiKTtcbmFkZFByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBwcm9qZWN0TW9kYWwoKTtcbn0pO1xuXG5wcm9qZWN0Rm9ybSgpO1xudGFza0Zvcm0oKTtcblxuY29uc3QgcHJvamVjdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3QtbGlzdFwiKTtcbnByb2plY3RMaXN0LmZvckVhY2goKHByb2plY3QpID0+IHtcbiAgICBwcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICBsZXQgcHJvamVjdFRpdGxlID0gXCJcIjtcbiAgICAgICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LnZhbHVlID09PSBcInByb2plY3QtdGl0bGVcIikge1xuICAgICAgICAgICAgcHJvamVjdFRpdGxlID0gZS50YXJnZXQuY2hpbGROb2Rlc1swXS50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIC8vIHNlbGVjdGVkUHJvamVjdChlLnRhcmdldCk7XG4gICAgICAgIH1lbHNlIGlmKGUudGFyZ2V0LmNsYXNzTGlzdC52YWx1ZSA9PT0gXCJuZXctcHJvamVjdC1jb25cIikge1xuICAgICAgICAgICAgcHJvamVjdFRpdGxlID0gZS50YXJnZXQuY2hpbGROb2Rlc1swXS50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIC8vIHNlbGVjdGVkUHJvamVjdChlLnRhcmdldC5jaGlsZE5vZGVzWzBdKTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgcHJvamVjdFRpdGxlID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMF0udGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAvLyBzZWxlY3RlZFByb2plY3QoZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMF0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb2plY3RJbmRleCA9IHByb2plY3RBcnIuZmluZEluZGV4KHByb2plY3QgPT4gcHJvamVjdC50aXRsZSA9PT0gcHJvamVjdFRpdGxlKTtcbiAgICAgICAgZGlzcGxheVByb2plY3QocHJvamVjdEFycltwcm9qZWN0SW5kZXhdKTtcbiAgICAgICAgY29uc3QgdGFza0luZGV4ID0gdGFza0Fyci5maW5kSW5kZXgodGFzayA9PiB0YXNrLnByb2plY3QgPT09IHByb2plY3RUaXRsZSk7XG4gICAgICAgIGlmKHRhc2tJbmRleCAhPT0gLTEpIGRpc3BsYXlUYXNrKHRhc2tBcnJbdGFza0luZGV4XS5kZXNjcmlwdGlvbik7XG4gICAgfSlcbn0pXG5cblxuY29uc3QgYWRkVGFza2J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXRhc2tcIik7XG5hZGRUYXNrYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgdGFza01vZGFsKCk7XG59KTtcblxuY29uc3QgY29tcGxldGVkVGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb21wbGV0ZWQtdGFiXCIpO1xuY29tcGxldGVkVGFiLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGNvbnN0IGlubmVyVGV4dCA9IGUudGFyZ2V0LmlubmVyVGV4dDtcbiAgICBpZihpbm5lclRleHQgPT09IFwiQ29tcGxldGVkXFxuZXhwYW5kX21vcmVcIiB8fCBpbm5lclRleHQgPT09IFwiZXhwYW5kX21vcmVcIikge1xuICAgICAgICBjaGFuZ2VBcnJvdyhpbm5lclRleHQpO1xuICAgICAgICBkaXNwbGF5Q29tcGxldGVkTGlzdChpbm5lclRleHQpO1xuICAgIH1lbHNlIHtcbiAgICAgICAgY2hhbmdlQXJyb3coaW5uZXJUZXh0KTtcbiAgICAgICAgZGlzcGxheUNvbXBsZXRlZExpc3QoaW5uZXJUZXh0KTtcbiAgICB9XG59KTtcbiJdLCJuYW1lcyI6WyJkaXNwbGF5VGFzayIsImFyciIsInRhc2tMaXN0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2xlYXJUYXNrTGlzdCIsImZvckVhY2giLCJ0YXNrIiwicHJvamVjdFRhc2siLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwicHJvamVjdFRhc2tMZWZ0IiwiY2hlY2tCb3giLCJ0YXNrRGVzY3JpcHRpb24iLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwiY3JlYXRlUHJvamVjdEJ1dHRvbnMiLCJhZGRUYXNrQnRuIiwiaW5zZXJ0QmVmb3JlIiwiZGlzcGxheVByb2plY3QiLCJwcm9qZWN0T2JqIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsInN0eWxlIiwiY29sb3IiLCJjaGFuZ2VQcmlvcml0eUNvbG9yIiwiYSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbmNsdWRlcyIsInNldEF0dHJpYnV0ZSIsInBhcmVudEVsZW1lbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kIiwicHJvamVjdEJ0biIsImVkaXRCdG4iLCJkZWxldGVCdG4iLCJpIiwibGVuZ3RoIiwicmVtb3ZlQ2hpbGQiLCJwcm9qZWN0QXJyIiwidGFza0FyciIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcm9qZWN0TW9kYWwiLCJzaG93TW9kYWwiLCJjbG9zZSIsImZvcm0iLCJlIiwicHJldmVudERlZmF1bHQiLCJnZXRFbGVtZW50QnlJZCIsImNoZWNrZWQiLCJuZXdQcm9qZWN0IiwidXNlclByb2plY3QiLCJ2YWx1ZSIsInB1c2giLCJjb21wbGV0ZWRMaXN0IiwicHJvamVjdCIsIm5ld1Byb2plY3RDb250YWluZXIiLCJwcm9qZWN0VGl0bGUiLCJhZGRUb1Byb2plY3RMaXN0IiwicmVzZXQiLCJwcm9qZWN0Rm9ybSIsInRhc2tNb2RhbCIsIngiLCJjaGVja1Rhc2tBcnJheSIsInByb2plY3RJbmRleCIsImZpbmRJbmRleCIsIm5ld1Rhc2siLCJ1c2VyVGFzayIsInRhc2tGb3JtIiwidGFyZ2V0IiwiY2hpbGROb2RlcyIsInRhc2tJbmRleCIsImlubmVyVGV4dCIsImFycm93RGlyZWN0aW9uIiwicmVtb3ZlIiwiZGlzcGxheUNvbXBsZXRlZExpc3QiXSwic291cmNlUm9vdCI6IiJ9