(()=>{"use strict";let e=[];const t=(e,t,o,n)=>({title:e,desc:t,dueDate:o,priority:n});function o(e){const t=document.createElement("div");t.classList.add("new-project-con");const o=document.createElement("p");return o.classList.add("project-title"),o.textContent=e.title,t.appendChild(o),t.appendChild(function(){const e=document.createElement("div");e.classList.add("project-btn");const t=document.createElement("span");t.classList.add("material-icons-outlined"),t.classList.add("edit"),t.textContent="edit",e.appendChild(t);const o=document.createElement("span");return o.classList.add("material-icons-outlined"),o.classList.add("delete"),o.textContent="delete",e.appendChild(o),e}()),t}document.querySelector(".add-project").addEventListener("click",(()=>{!function(){const n=document.querySelector(".project-form"),c=document.querySelector(".project-modal");c.showModal(),function(){const n=document.querySelector(".project-modal"),c=document.querySelector(".project-form");c.addEventListener("submit",(d=>{d.preventDefault();const r=document.getElementById("title"),l=document.getElementById("description"),i=document.getElementById("due-date");let u="Low";document.querySelector(".project-modal #medium").checked?u="Medium":document.querySelector(".project-modal #high").checked&&(u="High");const s=t(r.value,l.value,i.value,u);e.push(s),function(e){const t=document.querySelector(".project-list");t.textContent="";for(let n=0;n<e.length;n++)t.appendChild(o(e[n]))}(e),function(e){document.querySelector(".main-hd").textContent=e.title,document.querySelector(".main-hd-desc").textContent=e.desc,document.querySelector(".main-hd-date-user").textContent=e.dueDate;const t=document.querySelector(".main-hd-priority-user");var o;t.textContent=e.priority,t.style.color="Low"===(o=e.priority)?"green":"Medium"===o?"yellow":"red"}(s),n.close(),HTMLFormElement.prototype.reset.call(c)}),{once:!0})}(),document.querySelector(".project-close").addEventListener("click",(()=>{c.close(),HTMLFormElement.prototype.reset.call(n)}))}()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YWNrOi8vdG8tZG8vLi9zcmMvcHJvamVjdC5qcyIsIndlYnBhY2s6Ly90by1kby8uL3NyYy9VSS5qcyIsIndlYnBhY2s6Ly90by1kby8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgeyBhZGRUb1Byb2plY3RMaXN0LCBkaXNwbGF5UHJvamVjdCB9IGZyb20gXCIuL1VJXCI7XG4vLyBpbXBvcnQgeyB1cGRhdGVUYXNrIH0gZnJvbSBcIi4vdGFza1wiO1xuXG4vLyBsZXQgcHJvamVjdEFyciA9IFtdO1xuXG4vLyBmdW5jdGlvbiBwcm9qZWN0TW9kYWwoKSB7XG4vLyAgICAgY29uc3QgcHJvamVjdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LW1vZGFsXCIpO1xuLy8gICAgIHByb2plY3RNb2RhbC5zaG93TW9kYWwoKTtcbi8vICAgICBjb25zdCBjbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1jbG9zZVwiKTtcbi8vICAgICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuLy8gICAgICAgICBwcm9qZWN0TW9kYWwuY2xvc2UoKTtcbi8vICAgICB9KTtcbi8vICAgICByZXR1cm4gcHJvamVjdE1vZGFsO1xuLy8gfVxuXG4vLyBmdW5jdGlvbiBwcm9qZWN0Rm9ybSgpIHtcbi8vICAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LWZvcm1cIik7XG4vLyAgICAgY29uc3QgcHJvamVjdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LW1vZGFsXCIpO1xuLy8gICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuLy8gICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4vLyAgICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZVwiKTtcbi8vICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uXCIpO1xuLy8gICAgICAgICBjb25zdCBkdWVEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkdWUtZGF0ZVwiKTtcbi8vICAgICAgICAgbGV0IHByaW9yaXR5ID0gXCJMb3dcIjtcbi8vICAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LW1vZGFsICNtZWRpdW1cIikuY2hlY2tlZCkgcHJpb3JpdHkgPSBcIk1lZGl1bVwiO1xuLy8gICAgICAgICBlbHNlIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1tb2RhbCAjaGlnaFwiKS5jaGVja2VkKSBwcmlvcml0eSA9IFwiSGlnaFwiO1xuLy8gICAgICAgICBlbHNlIHByaW9yaXR5O1xuLy8gICAgICAgICBjb25zdCBuZXdQcm9qZWN0ID0gdXNlclByb2plY3QodGl0bGUudmFsdWUsIGRlc2NyaXB0aW9uLnZhbHVlLCBkdWVEYXRlLnZhbHVlLCBwcmlvcml0eSk7XG4vLyAgICAgICAgIHByb2plY3RBcnIucHVzaChuZXdQcm9qZWN0KTtcbi8vICAgICAgICAgYWRkVG9Qcm9qZWN0TGlzdChwcm9qZWN0QXJyKTtcbi8vICAgICAgICAgZGlzcGxheVByb2plY3QobmV3UHJvamVjdCk7XG4vLyAgICAgICAgIHByb2plY3RNb2RhbC5jbG9zZSgpO1xuLy8gICAgICAgICBmb3JtLnJlc2V0KCk7XG4vLyAgICAgICAgIC8vIGNvbnNvbGUubG9nKHByb2plY3RBcnIpO1xuLy8gICAgICAgICByZXR1cm4gcHJvamVjdEFycjtcbi8vICAgICB9KTtcbi8vIH1cblxuLy8gZnVuY3Rpb24gZWRpdE1vZGFsKCkge1xuLy8gICAgIGNvbnN0IGVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1tb2RhbFwiKTtcbi8vICAgICBlZGl0TW9kYWwuc2hvd01vZGFsKCk7XG4vLyAgICAgY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVkaXQtY2xvc2VcIik7XG4vLyAgICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbi8vICAgICAgICAgZWRpdE1vZGFsLmNsb3NlKCk7XG4vLyAgICAgfSk7XG4vLyAgICAgcmV0dXJuIGVkaXRNb2RhbDtcbi8vIH1cblxuLy8gZnVuY3Rpb24gZWRpdEZvcm0ocHJvamVjdEluZGV4KSB7XG4vLyAgICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1mb3JtXCIpO1xuLy8gICAgIGNvbnN0IHByb2plY3RNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1tb2RhbFwiKTtcbi8vICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbi8vICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuLy8gICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdC10aXRsZVwiKTtcbi8vICAgICAgICAgcHJvamVjdEFycltwcm9qZWN0SW5kZXhdLnRpdGxlID0gdGl0bGUudmFsdWU7XG4vLyAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0LWRlc2NyaXB0aW9uXCIpO1xuLy8gICAgICAgICBwcm9qZWN0QXJyW3Byb2plY3RJbmRleF0uZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi52YWx1ZTtcbi8vICAgICAgICAgY29uc3QgZHVlRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdC1kdWUtZGF0ZVwiKTtcbi8vICAgICAgICAgcHJvamVjdEFycltwcm9qZWN0SW5kZXhdLmR1ZURhdGUgPSBkdWVEYXRlLnZhbHVlO1xuLy8gICAgICAgICBsZXQgcHJpb3JpdHkgPSBcIkxvd1wiO1xuLy8gICAgICAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVkaXQtbW9kYWwgI21lZGl1bVwiKS5jaGVja2VkKSBwcmlvcml0eSA9IFwiTWVkaXVtXCI7XG4vLyAgICAgICAgIGVsc2UgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0LW1vZGFsICNoaWdoXCIpLmNoZWNrZWQpIHByaW9yaXR5ID0gXCJIaWdoXCI7XG4vLyAgICAgICAgIGVsc2UgcHJpb3JpdHk7XG4vLyAgICAgICAgIHByb2plY3RBcnJbcHJvamVjdEluZGV4XS5wcmlvcml0eSA9IHByaW9yaXR5O1xuLy8gICAgICAgICBjb25zb2xlLmxvZyhcInByb2plY3QtbW9kdWxlXCIpO1xuLy8gICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0QXJyKTtcbi8vICAgICAgICAgYWRkVG9Qcm9qZWN0TGlzdChwcm9qZWN0QXJyKTtcbi8vICAgICAgICAgZGlzcGxheVByb2plY3QocHJvamVjdEFycltwcm9qZWN0SW5kZXhdKTtcbi8vICAgICAgICAgdXBkYXRlVGFzayhwcm9qZWN0SW5kZXgsIHByb2plY3RBcnJbcHJvamVjdEluZGV4XS50aXRsZSk7XG4vLyAgICAgICAgIHByb2plY3RNb2RhbC5jbG9zZSgpO1xuLy8gICAgICAgICBmb3JtLnJlc2V0KCk7XG4vLyAgICAgICAgIHJldHVybiBwcm9qZWN0QXJyO1xuLy8gICAgIH0sIHtvbmNlOiB0cnVlfSk7IC8vcHJldmVudCBmb3JtIGZyb20gc3VibWl0dGluZyB0d2ljZSB3aGVuIGVkaXRpbmcgbW9yZSB0aGFuIG9uY2Vcbi8vIH1cblxuLy8gZnVuY3Rpb24gZGVsZXRlUHJvamVjdChwcm9qZWN0SW5kZXgpIHtcbi8vICAgICByZXR1cm4gcHJvamVjdEFyci5zcGxpY2UocHJvamVjdEluZGV4LCAxKTtcbi8vIH1cblxuLy8gY29uc3QgdXNlclByb2plY3QgPSAodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSkgPT4ge1xuLy8gICAgIHJldHVybiB7dGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eX07XG4vLyB9IFxuXG5cbi8vIGV4cG9ydCB7cHJvamVjdE1vZGFsLCBwcm9qZWN0Rm9ybSwgcHJvamVjdEFyciwgZWRpdE1vZGFsLCBlZGl0Rm9ybSwgZGVsZXRlUHJvamVjdH07XG5cbmltcG9ydCB7IGRpc3BsYXlQcm9qZWN0LCBkaXNwbGF5TWFpbiB9IGZyb20gXCIuL1VJXCI7XG5cbmxldCBwcm9qZWN0QXJyID0gW107XG5cbmZ1bmN0aW9uIHByb2plY3RGb3JtKCkge1xuICAgIGNvbnN0IHByb2plY3RNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1tb2RhbFwiKTtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LWZvcm1cIik7XG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpO1xuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25cIik7XG4gICAgICAgIGNvbnN0IGR1ZURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImR1ZS1kYXRlXCIpO1xuICAgICAgICBsZXQgcHJpb3JpdHkgPSBcIkxvd1wiO1xuICAgICAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtbW9kYWwgI21lZGl1bVwiKS5jaGVja2VkKSBwcmlvcml0eSA9IFwiTWVkaXVtXCI7XG4gICAgICAgIGVsc2UgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LW1vZGFsICNoaWdoXCIpLmNoZWNrZWQpIHByaW9yaXR5ID0gXCJIaWdoXCI7XG4gICAgICAgIGVsc2UgcHJpb3JpdHk7XG4gICAgICAgIGNvbnN0IG5ld1Byb2plY3QgPSB1c2VyUHJvamVjdCh0aXRsZS52YWx1ZSwgZGVzY3JpcHRpb24udmFsdWUsIGR1ZURhdGUudmFsdWUsIHByaW9yaXR5KTtcbiAgICAgICAgcHJvamVjdEFyci5wdXNoKG5ld1Byb2plY3QpO1xuICAgICAgICBkaXNwbGF5UHJvamVjdChwcm9qZWN0QXJyKTtcbiAgICAgICAgZGlzcGxheU1haW4obmV3UHJvamVjdCk7XG4gICAgICAgIHByb2plY3RNb2RhbC5jbG9zZSgpO1xuICAgICAgICBIVE1MRm9ybUVsZW1lbnQucHJvdG90eXBlLnJlc2V0LmNhbGwoZm9ybSk7XG4gICAgfSwge29uY2U6IHRydWV9KTtcbn1cblxuY29uc3QgdXNlclByb2plY3QgPSAodGl0bGUsIGRlc2MsIGR1ZURhdGUsIHByaW9yaXR5KSA9PiB7XG4gICAgcmV0dXJuIHt0aXRsZSwgZGVzYywgZHVlRGF0ZSwgcHJpb3JpdHl9O1xufVxuXG5leHBvcnQge3Byb2plY3RGb3JtfTsiLCIvLyBpbXBvcnQgeyBwcm9qZWN0QXJyIH0gZnJvbSBcIi4vcHJvamVjdFwiO1xuXG4vLyBmdW5jdGlvbiBkaXNwbGF5Q29tcGxldGVkTGlzdChpbm5lclRleHQpIHtcbi8vICAgICBjb25zdCBjb21wbGV0ZWRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb21wbGV0ZWQtbGlzdFwiKTtcbi8vICAgICBpZihpbm5lclRleHQgPT09IFwiQ29tcGxldGVkXFxuZXhwYW5kX21vcmVcIiB8fCBpbm5lclRleHQgPT09IFwiZXhwYW5kX21vcmVcIikge1xuLy8gICAgICAgICBjb25zdCBwcm9qZWN0SG92ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnVzZXItcHJvamVjdFwiKTtcbi8vICAgICAgICAgcHJvamVjdEhvdmVyLmZvckVhY2goKHByb2plY3QpID0+IHtcbi8vICAgICAgICAgICAgIHByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCAoKSA9PiB7XG4vLyAgICAgICAgICAgICAgICAgcHJvamVjdC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcImJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yOTYpOyBib3JkZXItcmFkaXVzOiA1cHg7XCIpO1xuLy8gICAgICAgICAgICAgfSk7XG4vLyAgICAgICAgICAgICBwcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCAoKSA9PiB7XG4vLyAgICAgICAgICAgICAgICAgcHJvamVjdC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJub25lXCI7XG4vLyAgICAgICAgICAgICB9KTtcbi8vICAgICAgICAgfSlcbi8vICAgICAgICAgcmV0dXJuIGNvbXBsZXRlZExpc3QuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbi8vICAgICB9ZWxzZSByZXR1cm4gY29tcGxldGVkTGlzdC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuLy8gfVxuXG4vLyBmdW5jdGlvbiBjaGFuZ2VBcnJvdyhhcnJvd0RpcmVjdGlvbikge1xuLy8gICAgIGNvbnN0IGFycm93SWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29tcGxldGVkLXRhYiAubWF0ZXJpYWwtaWNvbnMtb3V0bGluZWRcIik7XG4vLyAgICAgaWYoYXJyb3dEaXJlY3Rpb24gPT09IFwiQ29tcGxldGVkXFxuZXhwYW5kX21vcmVcIiB8fCBhcnJvd0RpcmVjdGlvbiA9PT0gXCJleHBhbmRfbW9yZVwiKSByZXR1cm4gYXJyb3dJY29uLmlubmVyVGV4dCA9IFwiZXhwYW5kX2xlc3NcIlxuLy8gICAgIGVsc2UgcmV0dXJuIGFycm93SWNvbi5pbm5lclRleHQgPSBcImV4cGFuZF9tb3JlXCI7XG4vLyB9XG5cbi8vIGZ1bmN0aW9uIGFkZFRvUHJvamVjdExpc3QoYXJyKSB7XG4vLyAgICAgY29uc3QgY29tcGxldGVkTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1saXN0XCIpO1xuLy8gICAgIGNvbXBsZXRlZExpc3QudGV4dENvbnRlbnQgPSBcIlwiO1xuLy8gICAgIGFyci5mb3JFYWNoKChwcm9qZWN0KSA9PiB7XG4vLyAgICAgICAgIGNvbnN0IG5ld1Byb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuLy8gICAgICAgICBuZXdQcm9qZWN0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJuZXctcHJvamVjdC1jb25cIik7XG4vLyAgICAgICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuLy8gICAgICAgICBwcm9qZWN0VGl0bGUuY2xhc3NMaXN0LmFkZChcInByb2plY3QtdGl0bGVcIik7XG4vLyAgICAgICAgIHByb2plY3RUaXRsZS50ZXh0Q29udGVudCA9IHByb2plY3QudGl0bGU7XG4vLyAgICAgICAgIG5ld1Byb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvamVjdFRpdGxlKTtcbi8vICAgICAgICAgbmV3UHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVQcm9qZWN0QnV0dG9ucygpKTtcbi8vICAgICAgICAgY29tcGxldGVkTGlzdC5hcHBlbmRDaGlsZChuZXdQcm9qZWN0Q29udGFpbmVyKTtcbi8vICAgICB9KVxuLy8gICAgIHJldHVybiBjb21wbGV0ZWRMaXN0O1xuLy8gfVxuXG4vLyBmdW5jdGlvbiBkaXNwbGF5VGFzayhhcnIpIHtcbi8vICAgICBjb25zdCB0YXNrTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC10YXNrLWxpc3RcIik7XG4vLyAgICAgY2xlYXJUYXNrTGlzdCgpO1xuLy8gICAgIGFyci5mb3JFYWNoKHRhc2sgPT4ge1xuLy8gICAgICAgICBjb25zdCBwcm9qZWN0VGFzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4vLyAgICAgICAgIHByb2plY3RUYXNrLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QtdGFzaycpO1xuLy8gICAgICAgICBjb25zdCBwcm9qZWN0VGFza0xlZnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuLy8gICAgICAgICBwcm9qZWN0VGFza0xlZnQuY2xhc3NMaXN0LmFkZChcInByb2plY3QtdGFzay1sZWZ0XCIpO1xuLy8gICAgICAgICBjb25zdCBjaGVja0JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4vLyAgICAgICAgIGNoZWNrQm94LmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94Jyk7XG4vLyAgICAgICAgIGNvbnN0IHRhc2tEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuLy8gICAgICAgICB0YXNrRGVzY3JpcHRpb24uY2xhc3NMaXN0LmFkZChcInByb2plY3QtdGFzay1kZXNjXCIpO1xuLy8gICAgICAgICB0YXNrRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSB0YXNrO1xuLy8gICAgICAgICBwcm9qZWN0VGFza0xlZnQuYXBwZW5kQ2hpbGQoY2hlY2tCb3gpO1xuLy8gICAgICAgICBwcm9qZWN0VGFza0xlZnQuYXBwZW5kQ2hpbGQodGFza0Rlc2NyaXB0aW9uKTtcbi8vICAgICAgICAgcHJvamVjdFRhc2suYXBwZW5kQ2hpbGQocHJvamVjdFRhc2tMZWZ0KTtcbi8vICAgICAgICAgcHJvamVjdFRhc2suYXBwZW5kQ2hpbGQoY3JlYXRlUHJvamVjdEJ1dHRvbnMoKSk7XG4vLyAgICAgICAgIGNvbnN0IGFkZFRhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrXCIpO1xuLy8gICAgICAgICByZXR1cm4gdGFza0xpc3QuaW5zZXJ0QmVmb3JlKHByb2plY3RUYXNrLCBhZGRUYXNrQnRuKTtcbi8vICAgICB9KTtcbi8vIH1cblxuLy8gZnVuY3Rpb24gZGlzcGxheVByb2plY3QocHJvamVjdE9iaikge1xuLy8gICAgIGNsZWFyVGFza0xpc3QoKTtcbi8vICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4taGRcIik7XG4vLyAgICAgaGVhZGVyLnRleHRDb250ZW50ID0gcHJvamVjdE9iai50aXRsZTtcbi8vICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1oZC1kZXNjXCIpO1xuLy8gICAgIGRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gcHJvamVjdE9iai5kZXNjcmlwdGlvbjtcbi8vICAgICBjb25zdCBkYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWhkLWRhdGUtdXNlclwiKTtcbi8vICAgICBkYXRlLnRleHRDb250ZW50ID0gcHJvamVjdE9iai5kdWVEYXRlO1xuLy8gICAgIGNvbnN0IHByaW9yaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWhkLXByaW9yaXR5LXVzZXJcIik7XG4vLyAgICAgcHJpb3JpdHkudGV4dENvbnRlbnQgPSBwcm9qZWN0T2JqLnByaW9yaXR5O1xuLy8gICAgIHByaW9yaXR5LnN0eWxlLmNvbG9yID0gY2hhbmdlUHJpb3JpdHlDb2xvcihwcm9qZWN0T2JqLnByaW9yaXR5KTtcblxuLy8gICAgIC8vaXRlcmF0ZSB0aHJvdWdoIHByb2plY3QgdGl0bGUgZWxlbWVudCB0aGF0IGNvbnRhaW5zIHByb2plY3QgdGl0bGVcbi8vICAgICBmb3IgKGNvbnN0IGEgb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9qZWN0LXRpdGxlXCIpKSB7XG4vLyAgICAgICAgIGlmKGEudGV4dENvbnRlbnQuaW5jbHVkZXMocHJvamVjdE9iai50aXRsZSkpIHtcbi8vICAgICAgICAgICAgIGEuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJjb2xvcjogd2hpdGU7IG9wYWNpdHk6IDE7XCIpO1xuLy8gICAgICAgICAgICAgYS5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjI5NilcIjtcbi8vICAgICAgICAgfWVsc2Uge1xuLy8gICAgICAgICAgICAgYS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcImNvbG9yOiAjRUJFQkVCOyBvcGFjaXR5OiAuNTtcIik7XG4vLyAgICAgICAgICAgICBhLnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZCA9IFwibm9uZVwiO1xuLy8gICAgICAgICB9XG4vLyAgICAgfVxuLy8gfVxuXG4vLyBmdW5jdGlvbiByZW1vdmVQcm9qZWN0KCkge1xuLy8gICAgIGlmKHByb2plY3RBcnIubGVuZ3RoID09PSAwKSB7XG4vLyAgICAgICAgIGNvbnN0IGhlYWRlckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1oZC1jb25cIik7XG4vLyAgICAgICAgIGhlYWRlckNvbnRhaW5lci50ZXh0Q29udGVudCA9IFwiXCI7XG4vLyAgICAgICAgIGhlYWRlckNvbnRhaW5lci5zdHlsZS5wYWRkaW5nQm90dG9tID0gXCI2LjE1cmVtXCI7XG4vLyAgICAgICAgIHJldHVybiBoZWFkZXJDb250YWluZXI7XG4vLyAgICAgfWVsc2Uge1xuLy8gICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4taGRcIik7XG4vLyAgICAgICAgIGhlYWRlci50ZXh0Q29udGVudCA9IHByb2plY3RBcnJbMF0udGl0bGU7XG4vLyAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWhkLWRlc2NcIik7XG4vLyAgICAgICAgIGRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gcHJvamVjdEFyclswXS5kZXNjcmlwdGlvbjtcbi8vICAgICAgICAgY29uc3QgZGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1oZC1kYXRlLXVzZXJcIik7XG4vLyAgICAgICAgIGRhdGUudGV4dENvbnRlbnQgPSBwcm9qZWN0QXJyWzBdLmR1ZURhdGU7XG4vLyAgICAgICAgIGNvbnN0IHByaW9yaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWhkLXByaW9yaXR5LXVzZXJcIik7XG4vLyAgICAgICAgIHByaW9yaXR5LnRleHRDb250ZW50ID0gcHJvamVjdEFyclswXS5wcmlvcml0eTtcbi8vICAgICAgICAgcHJpb3JpdHkuc3R5bGUuY29sb3IgPSBjaGFuZ2VQcmlvcml0eUNvbG9yKHByb2plY3RBcnJbMF0ucHJpb3JpdHkpO1xuLy8gICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC10aXRsZVwiKTtcbi8vICAgICAgICAgc2VsZWN0ZWQuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJjb2xvcjogd2hpdGU7IG9wYWNpdHk6IDE7XCIpO1xuLy8gICAgICAgICBzZWxlY3RlZC5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjI5NilcIjtcbi8vICAgICB9XG4vLyB9XG5cbi8vIGZ1bmN0aW9uIGNoYW5nZVByaW9yaXR5Q29sb3IocHJpb3JpdHkpIHtcbi8vICAgICBpZihwcmlvcml0eSA9PT0gXCJMb3dcIikgcmV0dXJuIFwiZ3JlZW5cIjtcbi8vICAgICBlbHNlIGlmKHByaW9yaXR5ID09PSBcIk1lZGl1bVwiKSByZXR1cm4gXCJ5ZWxsb3dcIjtcbi8vICAgICBlbHNlIHJldHVybiBcInJlZFwiO1xuLy8gfVxuXG4vLyBmdW5jdGlvbiBjcmVhdGVQcm9qZWN0QnV0dG9ucygpIHtcbi8vICAgICBjb25zdCBwcm9qZWN0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbi8vICAgICBwcm9qZWN0QnRuLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LWJ0blwiKTtcbi8vICAgICBjb25zdCBlZGl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4vLyAgICAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4vLyAgICAgZWRpdEJ0bi5jbGFzc0xpc3QuYWRkKFwibWF0ZXJpYWwtaWNvbnMtb3V0bGluZWRcIik7XG4vLyAgICAgZWRpdEJ0bi5jbGFzc0xpc3QuYWRkKFwiZWRpdFwiKTtcbi8vICAgICBkZWxldGVCdG4uY2xhc3NMaXN0LmFkZChcIm1hdGVyaWFsLWljb25zLW91dGxpbmVkXCIpO1xuLy8gICAgIGRlbGV0ZUJ0bi5jbGFzc0xpc3QuYWRkKFwiZGVsZXRlXCIpO1xuLy8gICAgIGVkaXRCdG4udGV4dENvbnRlbnQgPSBcImVkaXRcIjtcbi8vICAgICBkZWxldGVCdG4udGV4dENvbnRlbnQgPSBcImRlbGV0ZVwiO1xuLy8gICAgIHByb2plY3RCdG4uYXBwZW5kQ2hpbGQoZWRpdEJ0bik7XG4vLyAgICAgcHJvamVjdEJ0bi5hcHBlbmRDaGlsZChkZWxldGVCdG4pO1xuLy8gICAgIHJldHVybiBwcm9qZWN0QnRuO1xuLy8gfVxuXG4vLyBmdW5jdGlvbiBjbGVhclRhc2tMaXN0KCkge1xuLy8gICAgIGNvbnN0IHRhc2tMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LXRhc2stbGlzdFwiKTtcbi8vICAgICBjb25zdCBwcm9qZWN0VGFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvamVjdC10YXNrXCIpO1xuLy8gICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qZWN0VGFzay5sZW5ndGg7IGkrKykge1xuLy8gICAgICAgICB0YXNrTGlzdC5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtdGFza1wiKSk7XG4vLyAgICAgfVxuLy8gICAgIHJldHVybiB0YXNrTGlzdDtcbi8vIH1cblxuLy8gZXhwb3J0IHtkaXNwbGF5Q29tcGxldGVkTGlzdCwgY2hhbmdlQXJyb3csIGFkZFRvUHJvamVjdExpc3QsIGRpc3BsYXlQcm9qZWN0LCBkaXNwbGF5VGFzaywgcmVtb3ZlUHJvamVjdH07XG5cblxuaW1wb3J0IHsgcHJvamVjdEZvcm0gfSBmcm9tIFwiLi9wcm9qZWN0XCI7XG5cblxuZnVuY3Rpb24gZGlzcGxheVByb2plY3RNb2RhbCgpIHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LWZvcm1cIik7XG4gICAgY29uc3QgcHJvamVjdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LW1vZGFsXCIpO1xuICAgIHByb2plY3RNb2RhbC5zaG93TW9kYWwoKTtcbiAgICBwcm9qZWN0Rm9ybSgpO1xuXG4gICAgY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtY2xvc2VcIik7XG4gICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgcHJvamVjdE1vZGFsLmNsb3NlKCk7XG4gICAgICAgIEhUTUxGb3JtRWxlbWVudC5wcm90b3R5cGUucmVzZXQuY2FsbChmb3JtKVxuICAgIH0pO1xuXG4gICAgLy8gcmV0dXJuIHByb2plY3RNb2RhbDtcbn1cblxuLyogZGlzcGxheWluZyBwcm9qZWN0IGxpc3Qgb24gbGVmdCBzaWRlIG9mIHNjcmVlbiAqL1xuZnVuY3Rpb24gZGlzcGxheVByb2plY3QoYXJyKSB7XG4gICAgY29uc3QgcHJvamVjdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtbGlzdFwiKTtcbiAgICBwcm9qZWN0TGlzdC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZm9yKGxldCBwcm9qZWN0ID0gMDsgcHJvamVjdCA8IGFyci5sZW5ndGg7IHByb2plY3QrKykge1xuICAgICAgICBwcm9qZWN0TGlzdC5hcHBlbmRDaGlsZChjcmVhdGVQcm9qZWN0RWwoYXJyW3Byb2plY3RdKSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVQcm9qZWN0RWwoYXJyKSB7XG4gICAgY29uc3QgcHJvamVjdENvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcHJvamVjdENvbi5jbGFzc0xpc3QuYWRkKFwibmV3LXByb2plY3QtY29uXCIpO1xuXG4gICAgY29uc3QgcHJvamVjdFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgcHJvamVjdFRpdGxlLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LXRpdGxlXCIpO1xuICAgIHByb2plY3RUaXRsZS50ZXh0Q29udGVudCA9IGFyci50aXRsZTtcbiAgICBwcm9qZWN0Q29uLmFwcGVuZENoaWxkKHByb2plY3RUaXRsZSk7XG4gICAgcHJvamVjdENvbi5hcHBlbmRDaGlsZChjcmVhdGVCdXR0b25zKCkpO1xuICAgIHJldHVybiBwcm9qZWN0Q29uO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVCdXR0b25zKCkge1xuICAgIGNvbnN0IHByb2plY3RCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHByb2plY3RCdG4uY2xhc3NMaXN0LmFkZChcInByb2plY3QtYnRuXCIpO1xuXG4gICAgY29uc3QgZWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGVkaXRCdG4uY2xhc3NMaXN0LmFkZChcIm1hdGVyaWFsLWljb25zLW91dGxpbmVkXCIpO1xuICAgIGVkaXRCdG4uY2xhc3NMaXN0LmFkZChcImVkaXRcIik7XG4gICAgZWRpdEJ0bi50ZXh0Q29udGVudCA9IFwiZWRpdFwiO1xuICAgIHByb2plY3RCdG4uYXBwZW5kQ2hpbGQoZWRpdEJ0bik7XG5cbiAgICBjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBkZWxldGVCdG4uY2xhc3NMaXN0LmFkZChcIm1hdGVyaWFsLWljb25zLW91dGxpbmVkXCIpO1xuICAgIGRlbGV0ZUJ0bi5jbGFzc0xpc3QuYWRkKFwiZGVsZXRlXCIpO1xuICAgIGRlbGV0ZUJ0bi50ZXh0Q29udGVudCA9IFwiZGVsZXRlXCI7XG4gICAgcHJvamVjdEJ0bi5hcHBlbmRDaGlsZChkZWxldGVCdG4pO1xuICAgIHJldHVybiBwcm9qZWN0QnRuO1xufVxuXG5mdW5jdGlvbiBkaXNwbGF5TWFpbihwcm9qZWN0KSB7XG4gICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWhkXCIpO1xuICAgIGhlYWRlci50ZXh0Q29udGVudCA9IHByb2plY3QudGl0bGU7XG5cbiAgICBjb25zdCBkZXNjID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWhkLWRlc2NcIik7XG4gICAgZGVzYy50ZXh0Q29udGVudCA9IHByb2plY3QuZGVzYztcblxuICAgIGNvbnN0IGR1ZURhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4taGQtZGF0ZS11c2VyXCIpO1xuICAgIGR1ZURhdGUudGV4dENvbnRlbnQgPSBwcm9qZWN0LmR1ZURhdGU7XG5cbiAgICBjb25zdCBwcmlvcml0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1oZC1wcmlvcml0eS11c2VyXCIpO1xuICAgIHByaW9yaXR5LnRleHRDb250ZW50ID0gcHJvamVjdC5wcmlvcml0eTtcbiAgICBwcmlvcml0eS5zdHlsZS5jb2xvciA9IHByaW9yaXR5Q29sb3IocHJvamVjdC5wcmlvcml0eSk7XG59XG5cbmZ1bmN0aW9uIHByaW9yaXR5Q29sb3IobGV2ZWwpIHtcbiAgICBpZihsZXZlbCA9PT0gXCJMb3dcIikgcmV0dXJuIFwiZ3JlZW5cIjtcbiAgICBlbHNlIGlmKGxldmVsID09PSBcIk1lZGl1bVwiKSByZXR1cm4gXCJ5ZWxsb3dcIjtcbiAgICBlbHNlIHJldHVybiBcInJlZFwiO1xufVxuXG5leHBvcnQge2Rpc3BsYXlQcm9qZWN0LCBkaXNwbGF5UHJvamVjdE1vZGFsLCBkaXNwbGF5TWFpbn07IiwiLy8gaW1wb3J0IHsgcHJvamVjdE1vZGFsLCBwcm9qZWN0Rm9ybSwgcHJvamVjdEFyciwgZWRpdE1vZGFsLCBlZGl0Rm9ybSwgZGVsZXRlUHJvamVjdH0gZnJvbSBcIi4vcHJvamVjdFwiO1xuLy8gaW1wb3J0IHsgdGFza01vZGFsLCB0YXNrRm9ybSwgdGFza0FyciwgdXBkYXRlVGFzaywgZWRpdFRhc2tNb2RhbCwgZWRpdFRhc2tGb3JtLCBkZWxldGVUYXNrLCBzdHJpa2VUaHJvdWdoIH0gZnJvbSBcIi4vdGFza1wiO1xuLy8gaW1wb3J0IHsgZGlzcGxheUNvbXBsZXRlZExpc3QsIGNoYW5nZUFycm93LCBkaXNwbGF5UHJvamVjdCwgZGlzcGxheVRhc2ssIHJlbW92ZVByb2plY3R9IGZyb20gXCIuL1VJXCI7XG5cbi8vIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1wcm9qZWN0XCIpO1xuLy8gYWRkUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuLy8gICAgIHByb2plY3RNb2RhbCgpO1xuLy8gfSk7XG5cbi8vIHByb2plY3RGb3JtKCk7XG4vLyB0YXNrRm9ybSgpO1xuXG4vLyBjb25zdCBwcm9qZWN0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvamVjdC1saXN0XCIpO1xuLy8gcHJvamVjdExpc3QuZm9yRWFjaCgocHJvamVjdCkgPT4ge1xuLy8gICAgIHByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4vLyAgICAgICAgIC8vIGNvbnNvbGUubG9nKHByb2plY3RBcnIpO1xuLy8gICAgICAgICBsZXQgcHJvamVjdFRpdGxlID0gXCJcIjtcbi8vICAgICAgICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LnZhbHVlID09PSBcInByb2plY3QtdGl0bGVcIikge1xuLy8gICAgICAgICAgICAgcHJvamVjdFRpdGxlID0gZS50YXJnZXQuY2hpbGROb2Rlc1swXS50ZXh0Q29udGVudDtcbi8vICAgICAgICAgfWVsc2UgaWYoZS50YXJnZXQuY2xhc3NMaXN0LnZhbHVlID09PSBcIm5ldy1wcm9qZWN0LWNvblwiKSB7XG4vLyAgICAgICAgICAgICBwcm9qZWN0VGl0bGUgPSBlLnRhcmdldC5jaGlsZE5vZGVzWzBdLnRleHRDb250ZW50O1xuLy8gICAgICAgICB9ZWxzZSB7XG4vLyAgICAgICAgICAgICBwcm9qZWN0VGl0bGUgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1swXS50ZXh0Q29udGVudDtcbi8vICAgICAgICAgfVxuLy8gICAgICAgICBjb25zdCBwcm9qZWN0SW5kZXggPSBwcm9qZWN0QXJyLmZpbmRJbmRleChwcm9qZWN0ID0+IHByb2plY3QudGl0bGUgPT09IHByb2plY3RUaXRsZSk7XG4vLyAgICAgICAgIGRpc3BsYXlQcm9qZWN0KHByb2plY3RBcnJbcHJvamVjdEluZGV4XSk7XG4vLyAgICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IHRhc2tBcnIuZmluZEluZGV4KHRhc2sgPT4gdGFzay5wcm9qZWN0ID09PSBwcm9qZWN0VGl0bGUpO1xuLy8gICAgICAgICBpZih0YXNrSW5kZXggIT09IC0xKSBkaXNwbGF5VGFzayh0YXNrQXJyW3Rhc2tJbmRleF0uZGVzY3JpcHRpb24pO1xuLy8gICAgIH0pXG4vLyB9KVxuXG4vLyBjb25zdCBwcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9qZWN0LWxpc3RcIik7XG4vLyBwcm9qZWN0QnRuLmZvckVhY2goYnRuID0+IHtcbi8vICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4vLyAgICAgICAgIGlmKGUudGFyZ2V0LmNsYXNzTGlzdC52YWx1ZSA9PT0gXCJtYXRlcmlhbC1pY29ucy1vdXRsaW5lZCBlZGl0XCIpIHtcbi8vICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMF0udGV4dENvbnRlbnQ7XG4vLyAgICAgICAgICAgICBjb25zdCBwcm9qZWN0SW5kZXggPSBwcm9qZWN0QXJyLmZpbmRJbmRleChwcm9qZWN0ID0+IHByb2plY3QudGl0bGUgPT09IHRpdGxlKTtcbi8vICAgICAgICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IHRhc2tBcnIuZmluZEluZGV4KHRhc2sgPT4gdGFzay5wcm9qZWN0ID09PSB0aXRsZSk7XG4vLyAgICAgICAgICAgICBlZGl0TW9kYWwoKTtcbi8vICAgICAgICAgICAgIGVkaXRGb3JtKHByb2plY3RJbmRleCk7XG4vLyAgICAgICAgICAgICAvLyB1cGRhdGVUYXNrKHRhc2tJbmRleCwgdGl0bGUpO1xuLy8gICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJpbmRleCBtb2R1bGVcIik7XG4vLyAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhwcm9qZWN0QXJyKTtcbi8vICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHByb2plY3RBcnJbcHJvamVjdEluZGV4XSk7XG4vLyAgICAgICAgIH1cbi8vICAgICAgICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LnZhbHVlID09PSBcIm1hdGVyaWFsLWljb25zLW91dGxpbmVkIGRlbGV0ZVwiKSB7XG4vLyAgICAgICAgICAgICBjb25zdCB0aXRsZSA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzBdLnRleHRDb250ZW50O1xuLy8gICAgICAgICAgICAgY29uc3QgcHJvamVjdEluZGV4ID0gcHJvamVjdEFyci5maW5kSW5kZXgocHJvamVjdCA9PiBwcm9qZWN0LnRpdGxlID09PSB0aXRsZSk7XG4vLyAgICAgICAgICAgICBkZWxldGVQcm9qZWN0KHByb2plY3RJbmRleCk7XG4vLyAgICAgICAgICAgICBjb25zdCBwcm9qZWN0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1saXN0XCIpO1xuLy8gICAgICAgICAgICAgcHJvamVjdExpc3QucmVtb3ZlQ2hpbGQoZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50KTtcbi8vICAgICAgICAgICAgIHJlbW92ZVByb2plY3QocHJvamVjdEFycik7XG4vLyAgICAgICAgIH1cbi8vICAgICB9KVxuLy8gfSlcblxuLy8gY29uc3QgdGFza0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvamVjdC10YXNrLWxpc3RcIik7XG4vLyB0YXNrQnRuLmZvckVhY2godGFzayA9PiB7XG4vLyAgICAgdGFzay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbi8vICAgICAgICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LnZhbHVlID09PSBcIm1hdGVyaWFsLWljb25zLW91dGxpbmVkIGVkaXRcIikge1xuLy8gICAgICAgICAgICAgY29uc3QgdGFza0Rlc2MgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzFdLnRleHRDb250ZW50O1xuLy8gICAgICAgICAgICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWhkXCIpLnRleHRDb250ZW50O1xuLy8gICAgICAgICAgICAgY29uc3QgdGFza0luZGV4ID0gdGFza0Fyci5maW5kSW5kZXgodGFzayA9PiB0YXNrLnByb2plY3QgPT09IGhlYWRlcik7XG4vLyAgICAgICAgICAgICBjb25zdCBkZXNjSW5kZXggPSB0YXNrQXJyW3Rhc2tJbmRleF0uZGVzY3JpcHRpb24uZmluZEluZGV4KGRlc2MgPT4gZGVzYyA9PT0gdGFza0Rlc2MpO1xuLy8gICAgICAgICAgICAgY29uc29sZS5sb2coZGVzY0luZGV4KTtcbi8vICAgICAgICAgICAgIGVkaXRUYXNrTW9kYWwoKTtcbi8vICAgICAgICAgICAgIGVkaXRUYXNrRm9ybSh0YXNrSW5kZXgsIGRlc2NJbmRleCk7XG4vLyAgICAgICAgIH1cbi8vICAgICAgICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LnZhbHVlID09PSBcIm1hdGVyaWFsLWljb25zLW91dGxpbmVkIGRlbGV0ZVwiKSB7XG4vLyAgICAgICAgICAgICBjb25zdCB0YXNrRGVzYyA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0udGV4dENvbnRlbnQ7XG4vLyAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4taGRcIikudGV4dENvbnRlbnQ7XG4vLyAgICAgICAgICAgICBjb25zdCB0YXNrSW5kZXggPSB0YXNrQXJyLmZpbmRJbmRleCh0YXNrID0+IHRhc2sucHJvamVjdCA9PT0gaGVhZGVyKTtcbi8vICAgICAgICAgICAgIGNvbnN0IGRlc2NJbmRleCA9IHRhc2tBcnJbdGFza0luZGV4XS5kZXNjcmlwdGlvbi5maW5kSW5kZXgoZGVzYyA9PiBkZXNjID09PSB0YXNrRGVzYyk7XG4vLyAgICAgICAgICAgICBkZWxldGVUYXNrKHRhc2tJbmRleCwgZGVzY0luZGV4KTtcbi8vICAgICAgICAgICAgIGNvbnN0IHByb2plY3RUYXNrTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC10YXNrLWxpc3RcIik7XG4vLyAgICAgICAgICAgICBwcm9qZWN0VGFza0xpc3QucmVtb3ZlQ2hpbGQoZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50KTtcbi8vICAgICAgICAgfVxuLy8gICAgICAgICBpZihlLnRhcmdldC5jbGFzc0xpc3QudmFsdWUgPT09IFwiY2hlY2tib3hcIiB8fCBlLnRhcmdldC5jbGFzc0xpc3QudmFsdWUgPT09IFwiY2hlY2tib3ggYWN0aXZlXCIpIHtcbi8vICAgICAgICAgICAgIGNvbnN0IGRlc2MgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMV07XG4vLyAgICAgICAgICAgICBjb25zdCBjaGVja2JveCA9IGUudGFyZ2V0O1xuLy8gICAgICAgICAgICAgc3RyaWtlVGhyb3VnaChjaGVja2JveCwgZGVzYyk7XG4vLyAgICAgICAgIH1cbi8vICAgICB9KVxuLy8gfSlcblxuLy8gY29uc3QgYWRkVGFza2J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXRhc2tcIik7XG4vLyBhZGRUYXNrYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4vLyAgICAgdGFza01vZGFsKCk7XG4vLyB9KTtcblxuLy8gY29uc3QgY29tcGxldGVkVGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb21wbGV0ZWQtdGFiXCIpO1xuLy8gY29tcGxldGVkVGFiLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuLy8gICAgIGNvbnN0IGlubmVyVGV4dCA9IGUudGFyZ2V0LmlubmVyVGV4dDtcbi8vICAgICBpZihpbm5lclRleHQgPT09IFwiQ29tcGxldGVkXFxuZXhwYW5kX21vcmVcIiB8fCBpbm5lclRleHQgPT09IFwiZXhwYW5kX21vcmVcIikge1xuLy8gICAgICAgICBjaGFuZ2VBcnJvdyhpbm5lclRleHQpO1xuLy8gICAgICAgICBkaXNwbGF5Q29tcGxldGVkTGlzdChpbm5lclRleHQpO1xuLy8gICAgIH1lbHNlIHtcbi8vICAgICAgICAgY2hhbmdlQXJyb3coaW5uZXJUZXh0KTtcbi8vICAgICAgICAgZGlzcGxheUNvbXBsZXRlZExpc3QoaW5uZXJUZXh0KTtcbi8vICAgICB9XG4vLyB9KTtcblxuaW1wb3J0IHsgZGlzcGxheVByb2plY3RNb2RhbCB9IGZyb20gXCIuL1VJXCI7XG5cbmNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1wcm9qZWN0XCIpO1xuYWRkUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGRpc3BsYXlQcm9qZWN0TW9kYWwoKTtcbn0pIl0sIm5hbWVzIjpbInByb2plY3RBcnIiLCJ1c2VyUHJvamVjdCIsInRpdGxlIiwiZGVzYyIsImR1ZURhdGUiLCJwcmlvcml0eSIsImNyZWF0ZVByb2plY3RFbCIsImFyciIsInByb2plY3RDb24iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJwcm9qZWN0VGl0bGUiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwicHJvamVjdEJ0biIsImVkaXRCdG4iLCJkZWxldGVCdG4iLCJjcmVhdGVCdXR0b25zIiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJmb3JtIiwicHJvamVjdE1vZGFsIiwic2hvd01vZGFsIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZ2V0RWxlbWVudEJ5SWQiLCJkZXNjcmlwdGlvbiIsImNoZWNrZWQiLCJuZXdQcm9qZWN0IiwidmFsdWUiLCJwdXNoIiwicHJvamVjdExpc3QiLCJwcm9qZWN0IiwibGVuZ3RoIiwiZGlzcGxheVByb2plY3QiLCJsZXZlbCIsInN0eWxlIiwiY29sb3IiLCJkaXNwbGF5TWFpbiIsImNsb3NlIiwiSFRNTEZvcm1FbGVtZW50IiwicHJvdG90eXBlIiwicmVzZXQiLCJjYWxsIiwib25jZSIsInByb2plY3RGb3JtIiwiZGlzcGxheVByb2plY3RNb2RhbCJdLCJzb3VyY2VSb290IjoiIn0=