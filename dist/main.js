(()=>{"use strict";function e(e){const t=document.querySelector(".project-task-list");c(),e.forEach((e=>{const n=document.createElement("div");n.classList.add("project-task");const c=document.createElement("div");c.classList.add("project-task-left");const r=document.createElement("div");r.classList.add("checkbox");const d=document.createElement("p");d.classList.add("project-task-desc"),d.textContent=e,c.appendChild(r),c.appendChild(d),n.appendChild(c),n.appendChild(o());const l=document.querySelector(".add-task");return t.insertBefore(n,l)}))}function t(e){return e.setAttribute("style","color: white; opacity: 1;")}function n(e){c(),document.querySelector(".main-hd").textContent=e.title,document.querySelector(".main-hd-desc").textContent=e.description,document.querySelector(".main-hd-date-user").textContent=e.dueDate;const t=document.querySelector(".main-hd-priority-user");t.textContent=e.priority,t.style.color=function(e){return"Low"===e?"green":"Medium"===e?"yellow":"red"}(e.priority);for(const t of document.querySelectorAll(".project-title"))t.textContent.includes(e.title)?(t.setAttribute("style","color: white; opacity: 1;"),t.parentElement.style.backgroundColor="rgba(255, 255, 255, 0.296)"):(t.setAttribute("style","color: #EBEBEB; opacity: .5;"),t.parentElement.style.background="none")}function o(){const e=document.createElement("div");e.classList.add("project-btn");const t=document.createElement("span"),n=document.createElement("span");return t.classList.add("material-icons-outlined"),t.classList.add("edit"),n.classList.add("material-icons-outlined"),n.classList.add("delete"),t.textContent="edit",n.textContent="delete",e.appendChild(t),e.appendChild(n),e}function c(){const e=document.querySelector(".project-task-list"),t=document.querySelectorAll(".project-task");for(let n=0;n<t.length;n++)e.removeChild(document.querySelector(".project-task"));return e}let r=[];let d=[];document.querySelector(".add-project").addEventListener("click",(()=>{!function(){const e=document.querySelector(".project-modal");e.showModal(),document.querySelector(".project-close").addEventListener("click",(()=>{e.close()}))}()})),function(){const e=document.querySelector(".project-form"),t=document.querySelector(".project-modal");e.addEventListener("submit",(c=>{c.preventDefault();const d=document.getElementById("title"),l=document.getElementById("description"),s=document.getElementById("due-date");let i="Low";document.getElementById("medium").checked?i="Medium":document.getElementById("high").checked&&(i="High");const a=((e,t,n,o)=>({title:e,description:t,dueDate:n,priority:o}))(d.value,l.value,s.value,i);return r.push(a),function(e){const t=document.querySelector(".project-list");t.textContent="",e.forEach((e=>{const n=document.createElement("div");n.classList.add("new-project-con");const c=document.createElement("p");c.classList.add("project-title"),c.textContent=e.title,n.appendChild(c),n.appendChild(o()),t.appendChild(n)}))}(r),n(a),t.close(),e.reset(),r}))}(),function(){const t=document.querySelector(".task-form"),n=document.querySelector(".task-modal"),o=document.querySelector(".main-hd");t.addEventListener("submit",(c=>{c.preventDefault();const r=document.getElementById("task-description");if(function(e){if(0===d.length)return!1;for(let t=0;t<d.length;t++)if(d[t].project===e)return!0}(o.textContent)){const t=d.findIndex((e=>e.project===o.textContent));d[t].description.push(r.value),e(d[t].description)}else{const t=((e,t)=>({project:e,description:t}))(o.textContent,[r.value]);d.push(t);const n=d.findIndex((e=>e.project===o.textContent));e(d[n].description)}return n.close(),t.reset(),d}))}(),document.querySelectorAll(".project-list").forEach((o=>{o.addEventListener("click",(o=>{let c="";"project-title"===o.target.classList.value?(c=o.target.childNodes[0].textContent,t(o.target)):"new-project-con"===o.target.classList.value?(c=o.target.childNodes[0].textContent,t(o.target.childNodes[0])):(c=o.target.parentElement.parentElement.childNodes[0].textContent,t(o.target.parentElement.parentElement.childNodes[0]));const l=r.findIndex((e=>e.title===c));n(r[l]);const s=d.findIndex((e=>e.project===c));-1!==s&&e(d[s].description)}))})),document.querySelector(".add-task").addEventListener("click",(()=>{!function(){const e=document.querySelector(".task-modal");e.showModal(),document.querySelector(".task-close").addEventListener("click",(t=>{e.close()}))}()})),document.querySelector(".completed-tab").addEventListener("click",(e=>{const t=e.target.innerText;var n;n=t,document.querySelector(".completed-tab .material-icons-outlined").innerText="Completed\nexpand_more"===n||"expand_more"===n?"expand_less":"expand_more",function(e){const t=document.querySelector(".completed-list");"Completed\nexpand_more"===e||"expand_more"===e?(document.querySelectorAll(".user-project").forEach((e=>{e.addEventListener("mouseover",(()=>{e.setAttribute("style","background-color: rgba(255, 255, 255, 0.296); border-radius: 5px;")})),e.addEventListener("mouseout",(()=>{e.style.background="none"}))})),t.classList.remove("hidden")):t.classList.add("hidden")}(t)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyIsInNvdXJjZXMiOlsid2VicGFjazovL3RvLWRvLy4vc3JjL1VJLmpzIiwid2VicGFjazovL3RvLWRvLy4vc3JjL3Byb2plY3QuanMiLCJ3ZWJwYWNrOi8vdG8tZG8vLi9zcmMvdGFzay5qcyIsIndlYnBhY2s6Ly90by1kby8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBkaXNwbGF5Q29tcGxldGVkTGlzdChpbm5lclRleHQpIHtcbiAgICBjb25zdCBjb21wbGV0ZWRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb21wbGV0ZWQtbGlzdFwiKTtcbiAgICBpZihpbm5lclRleHQgPT09IFwiQ29tcGxldGVkXFxuZXhwYW5kX21vcmVcIiB8fCBpbm5lclRleHQgPT09IFwiZXhwYW5kX21vcmVcIikge1xuICAgICAgICBjb25zdCBwcm9qZWN0SG92ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnVzZXItcHJvamVjdFwiKTtcbiAgICAgICAgcHJvamVjdEhvdmVyLmZvckVhY2goKHByb2plY3QpID0+IHtcbiAgICAgICAgICAgIHByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcHJvamVjdC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcImJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yOTYpOyBib3JkZXItcmFkaXVzOiA1cHg7XCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcHJvamVjdC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJub25lXCI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIGNvbXBsZXRlZExpc3QuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbiAgICB9ZWxzZSByZXR1cm4gY29tcGxldGVkTGlzdC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xufVxuXG5mdW5jdGlvbiBjaGFuZ2VBcnJvdyhhcnJvd0RpcmVjdGlvbikge1xuICAgIGNvbnN0IGFycm93SWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29tcGxldGVkLXRhYiAubWF0ZXJpYWwtaWNvbnMtb3V0bGluZWRcIik7XG4gICAgaWYoYXJyb3dEaXJlY3Rpb24gPT09IFwiQ29tcGxldGVkXFxuZXhwYW5kX21vcmVcIiB8fCBhcnJvd0RpcmVjdGlvbiA9PT0gXCJleHBhbmRfbW9yZVwiKSByZXR1cm4gYXJyb3dJY29uLmlubmVyVGV4dCA9IFwiZXhwYW5kX2xlc3NcIlxuICAgIGVsc2UgcmV0dXJuIGFycm93SWNvbi5pbm5lclRleHQgPSBcImV4cGFuZF9tb3JlXCI7XG59XG5cbmZ1bmN0aW9uIGFkZFRvUHJvamVjdExpc3QoYXJyKSB7XG4gICAgY29uc3QgY29tcGxldGVkTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1saXN0XCIpO1xuICAgIGNvbXBsZXRlZExpc3QudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGFyci5mb3JFYWNoKChwcm9qZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1Byb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBuZXdQcm9qZWN0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJuZXctcHJvamVjdC1jb25cIik7XG4gICAgICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICBwcm9qZWN0VGl0bGUuY2xhc3NMaXN0LmFkZChcInByb2plY3QtdGl0bGVcIik7XG4gICAgICAgIHByb2plY3RUaXRsZS50ZXh0Q29udGVudCA9IHByb2plY3QudGl0bGU7XG4gICAgICAgIG5ld1Byb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvamVjdFRpdGxlKTtcbiAgICAgICAgbmV3UHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVQcm9qZWN0QnV0dG9ucygpKTtcbiAgICAgICAgY29tcGxldGVkTGlzdC5hcHBlbmRDaGlsZChuZXdQcm9qZWN0Q29udGFpbmVyKTtcbiAgICB9KVxuICAgIHJldHVybiBjb21wbGV0ZWRMaXN0O1xufVxuXG5mdW5jdGlvbiBkaXNwbGF5VGFzayhhcnIpIHtcbiAgICBjb25zdCB0YXNrTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC10YXNrLWxpc3RcIik7XG4gICAgY2xlYXJUYXNrTGlzdCgpO1xuICAgIGFyci5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0VGFzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHByb2plY3RUYXNrLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QtdGFzaycpO1xuICAgICAgICBjb25zdCBwcm9qZWN0VGFza0xlZnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBwcm9qZWN0VGFza0xlZnQuY2xhc3NMaXN0LmFkZChcInByb2plY3QtdGFzay1sZWZ0XCIpO1xuICAgICAgICBjb25zdCBjaGVja0JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNoZWNrQm94LmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94Jyk7XG4gICAgICAgIGNvbnN0IHRhc2tEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICB0YXNrRGVzY3JpcHRpb24uY2xhc3NMaXN0LmFkZChcInByb2plY3QtdGFzay1kZXNjXCIpO1xuICAgICAgICB0YXNrRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSB0YXNrO1xuICAgICAgICBwcm9qZWN0VGFza0xlZnQuYXBwZW5kQ2hpbGQoY2hlY2tCb3gpO1xuICAgICAgICBwcm9qZWN0VGFza0xlZnQuYXBwZW5kQ2hpbGQodGFza0Rlc2NyaXB0aW9uKTtcbiAgICAgICAgcHJvamVjdFRhc2suYXBwZW5kQ2hpbGQocHJvamVjdFRhc2tMZWZ0KTtcbiAgICAgICAgcHJvamVjdFRhc2suYXBwZW5kQ2hpbGQoY3JlYXRlUHJvamVjdEJ1dHRvbnMoKSk7XG4gICAgICAgIGNvbnN0IGFkZFRhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrXCIpO1xuICAgICAgICByZXR1cm4gdGFza0xpc3QuaW5zZXJ0QmVmb3JlKHByb2plY3RUYXNrLCBhZGRUYXNrQnRuKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gc2VsZWN0ZWRQcm9qZWN0KHByb2plY3QpIHtcbiAgICByZXR1cm4gcHJvamVjdC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcImNvbG9yOiB3aGl0ZTsgb3BhY2l0eTogMTtcIik7XG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlQcm9qZWN0KHByb2plY3RPYmopIHtcbiAgICBjbGVhclRhc2tMaXN0KCk7XG4gICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWhkXCIpO1xuICAgIGhlYWRlci50ZXh0Q29udGVudCA9IHByb2plY3RPYmoudGl0bGU7XG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4taGQtZGVzY1wiKTtcbiAgICBkZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHByb2plY3RPYmouZGVzY3JpcHRpb247XG4gICAgY29uc3QgZGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1oZC1kYXRlLXVzZXJcIik7XG4gICAgZGF0ZS50ZXh0Q29udGVudCA9IHByb2plY3RPYmouZHVlRGF0ZTtcbiAgICBjb25zdCBwcmlvcml0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1oZC1wcmlvcml0eS11c2VyXCIpO1xuICAgIHByaW9yaXR5LnRleHRDb250ZW50ID0gcHJvamVjdE9iai5wcmlvcml0eTtcbiAgICBwcmlvcml0eS5zdHlsZS5jb2xvciA9IGNoYW5nZVByaW9yaXR5Q29sb3IocHJvamVjdE9iai5wcmlvcml0eSk7XG5cbiAgICAvL2l0ZXJhdGUgdGhyb3VnaCBwcm9qZWN0IHRpdGxlIGVsZW1lbnQgdGhhdCBjb250YWlucyBwcm9qZWN0IHRpdGxlXG4gICAgZm9yIChjb25zdCBhIG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvamVjdC10aXRsZVwiKSkge1xuICAgICAgICBpZihhLnRleHRDb250ZW50LmluY2x1ZGVzKHByb2plY3RPYmoudGl0bGUpKSB7XG4gICAgICAgICAgICBhLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwiY29sb3I6IHdoaXRlOyBvcGFjaXR5OiAxO1wiKTtcbiAgICAgICAgICAgIGEucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yOTYpXCI7XG4gICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgIGEuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJjb2xvcjogI0VCRUJFQjsgb3BhY2l0eTogLjU7XCIpO1xuICAgICAgICAgICAgYS5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmQgPSBcIm5vbmVcIjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY2hhbmdlUHJpb3JpdHlDb2xvcihwcmlvcml0eSkge1xuICAgIGlmKHByaW9yaXR5ID09PSBcIkxvd1wiKSByZXR1cm4gXCJncmVlblwiO1xuICAgIGVsc2UgaWYocHJpb3JpdHkgPT09IFwiTWVkaXVtXCIpIHJldHVybiBcInllbGxvd1wiO1xuICAgIGVsc2UgcmV0dXJuIFwicmVkXCI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVByb2plY3RCdXR0b25zKCkge1xuICAgIGNvbnN0IHByb2plY3RCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHByb2plY3RCdG4uY2xhc3NMaXN0LmFkZChcInByb2plY3QtYnRuXCIpO1xuICAgIGNvbnN0IGVkaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBlZGl0QnRuLmNsYXNzTGlzdC5hZGQoXCJtYXRlcmlhbC1pY29ucy1vdXRsaW5lZFwiKTtcbiAgICBlZGl0QnRuLmNsYXNzTGlzdC5hZGQoXCJlZGl0XCIpO1xuICAgIGRlbGV0ZUJ0bi5jbGFzc0xpc3QuYWRkKFwibWF0ZXJpYWwtaWNvbnMtb3V0bGluZWRcIik7XG4gICAgZGVsZXRlQnRuLmNsYXNzTGlzdC5hZGQoXCJkZWxldGVcIik7XG4gICAgZWRpdEJ0bi50ZXh0Q29udGVudCA9IFwiZWRpdFwiO1xuICAgIGRlbGV0ZUJ0bi50ZXh0Q29udGVudCA9IFwiZGVsZXRlXCI7XG4gICAgcHJvamVjdEJ0bi5hcHBlbmRDaGlsZChlZGl0QnRuKTtcbiAgICBwcm9qZWN0QnRuLmFwcGVuZENoaWxkKGRlbGV0ZUJ0bik7XG4gICAgcmV0dXJuIHByb2plY3RCdG47XG59XG5cbmZ1bmN0aW9uIGNsZWFyVGFza0xpc3QoKSB7XG4gICAgY29uc3QgdGFza0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtdGFzay1saXN0XCIpO1xuICAgIGNvbnN0IHByb2plY3RUYXNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9qZWN0LXRhc2tcIik7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHByb2plY3RUYXNrLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRhc2tMaXN0LnJlbW92ZUNoaWxkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC10YXNrXCIpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhc2tMaXN0O1xufVxuXG5leHBvcnQge2Rpc3BsYXlDb21wbGV0ZWRMaXN0LCBjaGFuZ2VBcnJvdywgYWRkVG9Qcm9qZWN0TGlzdCwgZGlzcGxheVByb2plY3QsIGRpc3BsYXlUYXNrLCBzZWxlY3RlZFByb2plY3R9OyIsImltcG9ydCB7IGFkZFRvUHJvamVjdExpc3QsIGRpc3BsYXlQcm9qZWN0IH0gZnJvbSBcIi4vVUlcIjtcblxubGV0IHByb2plY3RBcnIgPSBbXTtcblxuZnVuY3Rpb24gcHJvamVjdE1vZGFsKCkge1xuICAgIGNvbnN0IHByb2plY3RNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1tb2RhbFwiKTtcbiAgICBwcm9qZWN0TW9kYWwuc2hvd01vZGFsKCk7XG4gICAgY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtY2xvc2VcIik7XG4gICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgcHJvamVjdE1vZGFsLmNsb3NlKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHByb2plY3RNb2RhbDtcbn1cblxuZnVuY3Rpb24gcHJvamVjdEZvcm0oKSB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1mb3JtXCIpO1xuICAgIGNvbnN0IHByb2plY3RNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1tb2RhbFwiKTtcbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIik7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvblwiKTtcbiAgICAgICAgY29uc3QgZHVlRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZHVlLWRhdGVcIik7XG4gICAgICAgIGxldCBwcmlvcml0eSA9IFwiTG93XCI7XG4gICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVkaXVtXCIpLmNoZWNrZWQpIHByaW9yaXR5ID0gXCJNZWRpdW1cIjtcbiAgICAgICAgZWxzZSBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhpZ2hcIikuY2hlY2tlZCkgcHJpb3JpdHkgPSBcIkhpZ2hcIjtcbiAgICAgICAgZWxzZSBwcmlvcml0eTtcbiAgICAgICAgY29uc3QgbmV3UHJvamVjdCA9IHVzZXJQcm9qZWN0KHRpdGxlLnZhbHVlLCBkZXNjcmlwdGlvbi52YWx1ZSwgZHVlRGF0ZS52YWx1ZSwgcHJpb3JpdHkpO1xuICAgICAgICBwcm9qZWN0QXJyLnB1c2gobmV3UHJvamVjdCk7XG4gICAgICAgIGFkZFRvUHJvamVjdExpc3QocHJvamVjdEFycik7XG4gICAgICAgIGRpc3BsYXlQcm9qZWN0KG5ld1Byb2plY3QpO1xuICAgICAgICBwcm9qZWN0TW9kYWwuY2xvc2UoKTtcbiAgICAgICAgZm9ybS5yZXNldCgpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhwcm9qZWN0QXJyKTtcbiAgICAgICAgcmV0dXJuIHByb2plY3RBcnI7XG4gICAgfSk7XG59XG5cbmNvbnN0IHVzZXJQcm9qZWN0ID0gKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHkpID0+IHtcbiAgICByZXR1cm4ge3RpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHl9O1xufSBcblxuXG5leHBvcnQge3Byb2plY3RNb2RhbCwgcHJvamVjdEZvcm0sIHByb2plY3RBcnJ9OyIsImltcG9ydCB7IGFkZFRvVGFza0xpc3QsIGRpc3BsYXlUYXNrIH0gZnJvbSBcIi4vVUlcIjtcblxubGV0IHRhc2tBcnIgPSBbXTtcblxuZnVuY3Rpb24gdGFza01vZGFsKCkge1xuICAgIGNvbnN0IHRhc2tNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFzay1tb2RhbFwiKTtcbiAgICB0YXNrTW9kYWwuc2hvd01vZGFsKCk7XG4gICAgY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2stY2xvc2VcIik7XG4gICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgIHRhc2tNb2RhbC5jbG9zZSgpO1xuICAgIH0pO1xuICAgIHJldHVybiB0YXNrTW9kYWw7XG59XG5cbmZ1bmN0aW9uIHRhc2tGb3JtKCkge1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2stZm9ybVwiKTtcbiAgICBjb25zdCB0YXNrTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2stbW9kYWxcIik7XG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4taGRcIik7XG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2stZGVzY3JpcHRpb25cIik7XG4gICAgICAgIGlmKCFjaGVja1Rhc2tBcnJheSh0aXRsZS50ZXh0Q29udGVudCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Rhc2sgPSB1c2VyVGFzayh0aXRsZS50ZXh0Q29udGVudCwgW2Rlc2NyaXB0aW9uLnZhbHVlXSk7XG4gICAgICAgICAgICB0YXNrQXJyLnB1c2gobmV3VGFzayk7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0SW5kZXggPSB0YXNrQXJyLmZpbmRJbmRleCh0YXNrID0+IHRhc2sucHJvamVjdCA9PT0gdGl0bGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgZGlzcGxheVRhc2sodGFza0Fycltwcm9qZWN0SW5kZXhdLmRlc2NyaXB0aW9uKTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdEluZGV4ID0gdGFza0Fyci5maW5kSW5kZXgodGFzayA9PiB0YXNrLnByb2plY3QgPT09IHRpdGxlLnRleHRDb250ZW50KTtcbiAgICAgICAgICAgIHRhc2tBcnJbcHJvamVjdEluZGV4XS5kZXNjcmlwdGlvbi5wdXNoKGRlc2NyaXB0aW9uLnZhbHVlKTsgXG4gICAgICAgICAgICBkaXNwbGF5VGFzayh0YXNrQXJyW3Byb2plY3RJbmRleF0uZGVzY3JpcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFkZFRvVGFza0xpc3QodGFza0Fycik7XG4gICAgICAgIHRhc2tNb2RhbC5jbG9zZSgpO1xuICAgICAgICBmb3JtLnJlc2V0KCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRhc2tBcnIpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyh0YXNrQXJyWzBdLmRlc2NyaXB0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRhc2tBcnI7XG4gICAgfSlcbn1cblxuZnVuY3Rpb24gY2hlY2tUYXNrQXJyYXkodGl0bGUpIHtcbiAgICBpZih0YXNrQXJyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIGZvcihsZXQgeCA9IDA7IHggPCB0YXNrQXJyLmxlbmd0aDsgeCsrKSB7XG4gICAgICAgIGlmKHRhc2tBcnJbeF0ucHJvamVjdCA9PT0gdGl0bGUpIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuY29uc3QgdXNlclRhc2sgPSAocHJvamVjdCwgZGVzY3JpcHRpb24pID0+IHtcbiAgICByZXR1cm4ge3Byb2plY3QsIGRlc2NyaXB0aW9ufTtcbn0gXG5cbmV4cG9ydCB7dGFza01vZGFsLCB0YXNrRm9ybSwgdGFza0Fycn07IiwiaW1wb3J0IHsgcHJvamVjdE1vZGFsLCBwcm9qZWN0Rm9ybSwgcHJvamVjdEFycn0gZnJvbSBcIi4vcHJvamVjdFwiO1xuaW1wb3J0IHsgdGFza01vZGFsLCB0YXNrRm9ybSwgdGFza0FyciB9IGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCB7IGRpc3BsYXlDb21wbGV0ZWRMaXN0LCBjaGFuZ2VBcnJvdywgZGlzcGxheVByb2plY3QsIGRpc3BsYXlUYXNrLCBzZWxlY3RlZFByb2plY3R9IGZyb20gXCIuL1VJXCI7XG5cbmNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1wcm9qZWN0XCIpO1xuYWRkUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIHByb2plY3RNb2RhbCgpO1xufSk7XG5cbnByb2plY3RGb3JtKCk7XG50YXNrRm9ybSgpO1xuXG5jb25zdCBwcm9qZWN0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvamVjdC1saXN0XCIpO1xucHJvamVjdExpc3QuZm9yRWFjaCgocHJvamVjdCkgPT4ge1xuICAgIHByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgIGxldCBwcm9qZWN0VGl0bGUgPSBcIlwiO1xuICAgICAgICBpZihlLnRhcmdldC5jbGFzc0xpc3QudmFsdWUgPT09IFwicHJvamVjdC10aXRsZVwiKSB7XG4gICAgICAgICAgICBwcm9qZWN0VGl0bGUgPSBlLnRhcmdldC5jaGlsZE5vZGVzWzBdLnRleHRDb250ZW50O1xuICAgICAgICAgICAgc2VsZWN0ZWRQcm9qZWN0KGUudGFyZ2V0KTtcbiAgICAgICAgfWVsc2UgaWYoZS50YXJnZXQuY2xhc3NMaXN0LnZhbHVlID09PSBcIm5ldy1wcm9qZWN0LWNvblwiKSB7XG4gICAgICAgICAgICBwcm9qZWN0VGl0bGUgPSBlLnRhcmdldC5jaGlsZE5vZGVzWzBdLnRleHRDb250ZW50O1xuICAgICAgICAgICAgc2VsZWN0ZWRQcm9qZWN0KGUudGFyZ2V0LmNoaWxkTm9kZXNbMF0pO1xuICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICBwcm9qZWN0VGl0bGUgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1swXS50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIHNlbGVjdGVkUHJvamVjdChlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1swXSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvamVjdEluZGV4ID0gcHJvamVjdEFyci5maW5kSW5kZXgocHJvamVjdCA9PiBwcm9qZWN0LnRpdGxlID09PSBwcm9qZWN0VGl0bGUpO1xuICAgICAgICBkaXNwbGF5UHJvamVjdChwcm9qZWN0QXJyW3Byb2plY3RJbmRleF0pO1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSB0YXNrQXJyLmZpbmRJbmRleCh0YXNrID0+IHRhc2sucHJvamVjdCA9PT0gcHJvamVjdFRpdGxlKTtcbiAgICAgICAgaWYodGFza0luZGV4ICE9PSAtMSkgZGlzcGxheVRhc2sodGFza0Fyclt0YXNrSW5kZXhdLmRlc2NyaXB0aW9uKTtcbiAgICB9KVxufSlcblxuXG5jb25zdCBhZGRUYXNrYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFza1wiKTtcbmFkZFRhc2tidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICB0YXNrTW9kYWwoKTtcbn0pO1xuXG5jb25zdCBjb21wbGV0ZWRUYWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbXBsZXRlZC10YWJcIik7XG5jb21wbGV0ZWRUYWIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgY29uc3QgaW5uZXJUZXh0ID0gZS50YXJnZXQuaW5uZXJUZXh0O1xuICAgIGlmKGlubmVyVGV4dCA9PT0gXCJDb21wbGV0ZWRcXG5leHBhbmRfbW9yZVwiIHx8IGlubmVyVGV4dCA9PT0gXCJleHBhbmRfbW9yZVwiKSB7XG4gICAgICAgIGNoYW5nZUFycm93KGlubmVyVGV4dCk7XG4gICAgICAgIGRpc3BsYXlDb21wbGV0ZWRMaXN0KGlubmVyVGV4dCk7XG4gICAgfWVsc2Uge1xuICAgICAgICBjaGFuZ2VBcnJvdyhpbm5lclRleHQpO1xuICAgICAgICBkaXNwbGF5Q29tcGxldGVkTGlzdChpbm5lclRleHQpO1xuICAgIH1cbn0pO1xuIl0sIm5hbWVzIjpbImRpc3BsYXlUYXNrIiwiYXJyIiwidGFza0xpc3QiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjbGVhclRhc2tMaXN0IiwiZm9yRWFjaCIsInRhc2siLCJwcm9qZWN0VGFzayIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJwcm9qZWN0VGFza0xlZnQiLCJjaGVja0JveCIsInRhc2tEZXNjcmlwdGlvbiIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVQcm9qZWN0QnV0dG9ucyIsImFkZFRhc2tCdG4iLCJpbnNlcnRCZWZvcmUiLCJzZWxlY3RlZFByb2plY3QiLCJwcm9qZWN0Iiwic2V0QXR0cmlidXRlIiwiZGlzcGxheVByb2plY3QiLCJwcm9qZWN0T2JqIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsInN0eWxlIiwiY29sb3IiLCJjaGFuZ2VQcmlvcml0eUNvbG9yIiwiYSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbmNsdWRlcyIsInBhcmVudEVsZW1lbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kIiwicHJvamVjdEJ0biIsImVkaXRCdG4iLCJkZWxldGVCdG4iLCJpIiwibGVuZ3RoIiwicmVtb3ZlQ2hpbGQiLCJwcm9qZWN0QXJyIiwidGFza0FyciIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcm9qZWN0TW9kYWwiLCJzaG93TW9kYWwiLCJjbG9zZSIsImZvcm0iLCJlIiwicHJldmVudERlZmF1bHQiLCJnZXRFbGVtZW50QnlJZCIsImNoZWNrZWQiLCJuZXdQcm9qZWN0IiwidXNlclByb2plY3QiLCJ2YWx1ZSIsInB1c2giLCJjb21wbGV0ZWRMaXN0IiwibmV3UHJvamVjdENvbnRhaW5lciIsInByb2plY3RUaXRsZSIsImFkZFRvUHJvamVjdExpc3QiLCJyZXNldCIsInByb2plY3RGb3JtIiwidGFza01vZGFsIiwieCIsImNoZWNrVGFza0FycmF5IiwicHJvamVjdEluZGV4IiwiZmluZEluZGV4IiwibmV3VGFzayIsInVzZXJUYXNrIiwidGFza0Zvcm0iLCJ0YXJnZXQiLCJjaGlsZE5vZGVzIiwidGFza0luZGV4IiwiaW5uZXJUZXh0IiwiYXJyb3dEaXJlY3Rpb24iLCJyZW1vdmUiLCJkaXNwbGF5Q29tcGxldGVkTGlzdCJdLCJzb3VyY2VSb290IjoiIn0=